{"version":3,"sources":["../src/main-widget-config.es6"],"names":["DEFAULT_API_KEY","apiKeyService","checkApiKeyCookie","getApiWidgetsKey","getHeightByTheme","theme","getBorderByTheme","getGooleApiKey","code","widget","widgetsEventDiscovery","themeConfig","sizes","s","width","height","layout","m","l","xl","xxl","custom","initSliderSize","maxWidth","minWidth","isPostalCodeChanged","$widthController","$","slider","tooltip","handle","$borderRadiusController","$colorSchemeSelector","widgetNode","document","querySelector","on","e","windowScroll","$window","window","$containerWidget","$configBlock","window_min","window_max","desktopWidth","threshold_offset","setLimits","topCss","css","parseInt","headerOffset","max_move","offset","top","min_move","data","innerWidth","j","updateScroll","scrollTop","containerMove","setTimeout","containerMove_clearOffset","marginTop","min","max","wst","replaceApiKey","options","userKey","sessionStorage","getItem","inputApiKey","attr","val","setAttribute","update","fullWidth","targetValue","widthSlider","widgetContainerWrapper","widgetContainer","$border_slider","console","log","slideUp","excludeOption","id","getAttribute","resetWidget","$configForm","slideDown","changeState","event","target","name","value","targetName","$tabButtons","getElementById","replace","hide","show","sizeConfig","setValue","prop","configForm","find","each","$self","defaultValue","sliderValue","sliderMax","sliderMin","disabled","activeItems","querySelectorAll","activeItemsLenght","length","i","classList","remove","map","item","removeAttribute","removeClass","onLoadCoordinate","$widgetModal","$widgetModalNoCode","$widgetModalMap","trigger","preventDefault","is","codeCont","htmlCode","createElement","config","latlong","key","tmp","appendChild","textContent","innerHTML","modal","addClass","countrycode","postalcode","city","results","countryShortName","$countrySelect","$ul","html","status","result","address_components","country","isSelected","short_name","long_name","append","addCustomList","listWrapperElement","listWrapperId","activeVal","$listOption","$placeholder","text","clearDropDownInput","elemIds"],"mappings":"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","file":"main-widget-config.js","sourcesContent":["(function(){\n\n  const DEFAULT_API_KEY = apiKeyService.checkApiKeyCookie() || apiKeyService.getApiWidgetsKey();\n\n  function getHeightByTheme(theme){\n    return (theme === 'simple' ? 286 : 339);\n  }\n\n  function getBorderByTheme(theme) {\n    switch (theme) {\n      case 'simple':\n        return 0;\n        break;\n      default:\n        return 2;\n    }\n  }\n\n  function getGooleApiKey(code) { return code || \"AIzaSyBQrJ5ECXDaXVlICIdUBOe8impKIGHDzdA\";}\n\n  let widget = widgetsEventDiscovery[0],\n    themeConfig = {\n      sizes: {\n        s: {\n          width: 160,\n          height: 300,\n          layout: 'horizontal'\n        },\n        m: {\n          width: 300,\n          height: 250,\n          layout: 'vertical'\n        },\n        l: {\n          width: 160,\n          height: 300,\n          layout: 'horizontal'\n        },\n        xl: {\n          width: 160,\n          height: 300,\n          layout: 'horizontal'\n        },\n        xxl: {\n          width: 300,\n          height: 600,\n          layout: 'vertical'\n        },\n        custom: {\n          width: 350,\n          height: 600,\n          layout: 'vertical'\n        }\n      },\n      initSliderSize: {\n        width: 350,\n        height: 600,\n        maxWidth: 500,\n        minWidth: 350\n      }      \n    },\n    isPostalCodeChanged = false;\n\n  var $widthController = $('#w-width').slider({\n      tooltip: 'always',\n      handle: 'square'\n    }),\n    $borderRadiusController = $('#w-borderradius').slider({\n      tooltip: 'always',\n      handle: 'square'\n    }),\n    $colorSchemeSelector = $('.widget__color_scheme_control'),\n    widgetNode = document.querySelector(\"div[w-tmapikey]\");\n\n  $('#js_styling_nav_tab').on('shown.bs.tab', function (e) {\n    $widthController.slider('relayout');\n    $borderRadiusController.slider('relayout');\n    windowScroll(); //recalculate widget container position\n  });\n\n  //variables for fixed widget\n  var $window = $(window),\n    $containerWidget = $(\".widget-container-wrapper\"),\n    $configBlock = $(\".config-block\"),\n    window_min = 0,\n    window_max = 0,\n    desktopWidth = 1200,\n    threshold_offset = 50;\n  /*\n   set the container's maximum and minimum limits as well as movement thresholds\n   */\n  function setLimits(){\n    //max and min container movements\n    var topCss = ($containerWidget.css(\"top\")>0) ? parseInt($containerWidget.css(\"top\")) : 0;\n    var headerOffset = $('.top-bar').height() + /*padding of top-bar*/8 + /*bottom-margin*/10;\n    var max_move = $configBlock.offset().top + $configBlock.height() - $containerWidget.height() - topCss - headerOffset;\n    var min_move = $configBlock.offset().top - headerOffset;\n\n    $containerWidget\n      .data('min', min_move)\n      .data('max', max_move);\n\n    //window thresholds so the movement isn't called when its not needed!\n    window_min = min_move - threshold_offset;\n    window_max = max_move + $containerWidget.height() + threshold_offset;\n  }\n  //sets the limits for the first load\n  setLimits();\n\n  function windowScroll(){\n    let innerWidth = window.innerWidth;\n    let j = 0;\n    function updateScroll() {\n      //if the window is within the threshold, begin movements\n      if ($window.scrollTop() >= window_min && $window.scrollTop() < window_max) {\n        if ($containerWidget.height() < $configBlock.height() && innerWidth >= desktopWidth) {\n          //reset the limits (optional)\n          setLimits();\n          //move the container\n          containerMove();\n        }\n      }\n      j++;\n    }\n    if(j === 0) updateScroll();\n\n    setTimeout(() => {\n      if (innerWidth < desktopWidth && $containerWidget.height() > $configBlock.height()) {\n        // console.log('*** ', j , innerWidth ,'<', desktopWidth );\n        containerMove_clearOffset();\n        updateScroll();\n      }\n      if($containerWidget.height() < $configBlock.height() || innerWidth >= desktopWidth) {\n        // console.log('ignore ',j);\n        if( innerWidth < desktopWidth ){\n          containerMove_clearOffset();\n        }\n        updateScroll();\n      }\n    }, 200);\n\n  }\n\n  $window.on(\"scroll load resize\", windowScroll);\n\n  /**\n   * Clear top offset of widget container\n   */\n  function containerMove_clearOffset(){\n    $containerWidget.css(\"margin-top\", 0);\n  }\n  /**\n   * Handles moving the container if needed.\n   **/\n  function containerMove(){\n    let marginTop = 0;\n    const wst = $window.scrollTop(),\n      {min, max} = $containerWidget.data();\n\n    //if the window scroll is within the min and max (the container will be 'sticky';\n    if( wst >= min && wst <= max ){\n      //if the window scroll is below the minimum move it down!\n      marginTop = wst - min;\n    }else if( wst > max ){\n      marginTop = max - min;\n    }\n    $containerWidget.css('marginTop', (marginTop > 0 ? marginTop : 0));\n  }\n  //do one container move on load\n  containerMove();\n\n  var replaceApiKey = function (options) {\n    let userKey = options.userKey || sessionStorage.getItem('tk-api-key') || DEFAULT_API_KEY;\n\n    if(userKey !== null) {\n      let {inputApiKey, widgetNode , widget } = options;\n      inputApiKey\n        .attr('value',userKey)\n        .val(userKey);\n      widgetNode.setAttribute(\"w-tmapikey\", userKey);\n      widget.update();\n    }\n  };\n  /*replaceApiKey({\n      inputApiKey:$('#w-tm-api-key'),\n      widgetNode: document.querySelector(\"div[w-tmapikey]\"),\n      widget\n    });*/\n\n  var fullWidth = function(targetValue){\n    let widthSlider = $('.js_widget_width_slider'),\n        widgetContainerWrapper = $containerWidget,\n        widgetContainer = $(\".widget-container\", widgetContainerWrapper),\n        $border_slider = $('.js_widget_border_slider');\n\n    console.log('targetValue' , targetValue);\n    if(targetValue === \"fullwidth\"){\n      // $layoutBox.slideUp();\n      widthSlider.slideUp(\"fast\");\n      $borderRadiusController.slider('setValue', 0);\n      widgetNode.setAttribute('w-borderradius', 0);\n      $border_slider.slideUp(\"fast\");\n      widgetContainerWrapper.css({width: \"100%\"});\n      widgetContainer.css({\n        width: \"100%\"\n      });\n      widgetNode.setAttribute('w-height', 700);\n    }else {\n      let excludeOption = {\n        id : widgetNode.getAttribute('w-id')\n      };\n      resetWidget($configForm , excludeOption );\n\n      // $layoutBox.slideDown(\"fast\");\n      widthSlider.slideDown(\"fast\");\n      $border_slider.slideDown(\"fast\");\n      $borderRadiusController.slider('setValue', 4);\n      widgetNode.setAttribute('w-borderradius', 4);\n      widgetContainerWrapper.css({\n        width: 'auto'\n      });\n    }\n  }\n\n\n  var changeState = function(event){\n    if(!event.target.name || event.target.name === \"w-googleapikey\") return;\n\n    let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\n        targetValue = event.target.value,\n        targetName = event.target.name,\n        $tabButtons = $('.js-tab-buttons');\n\n    if(targetName === \"w-tm-api-key\") {\n      document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-tmapikey', targetValue);\n\n      if (sessionStorage.getItem('tk-api-key')) {\n        document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\n        document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\n      }\n      if (document.getElementById('w-tm-api-key').value == '') {\n        if (sessionStorage.getItem('tk-api-key')) {\n          document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\n          document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\n        }\n        else {\n          document.getElementById('w-tm-api-key').value = DEFAULT_API_KEY;\n          document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-tmapikey', DEFAULT_API_KEY);\n        }\n      }\n    }\n\n    if(targetName === \"w-postalcodeapi\"){\n      widgetNode.setAttribute('w-country', '');\n      isPostalCodeChanged = true;\n\n      /*\n      var numInputClass = document.getElementById('w-radius');\n      var incArrow = event.target.parentNode.nextElementSibling.querySelector('div').querySelector('.arrow__inc');\n      var decArrow = event.target.parentNode.nextElementSibling.querySelector('div').querySelector('.arrow__dec');\n\n      if (targetValue == '') {\n          numInputClass.setAttribute('disabled', 'disabled');\n          numInputClass.value = '';\n          incArrow.classList.add('disabled');\n          decArrow.classList.add('disabled');\n      }\n      else {\n          numInputClass.removeAttribute('disabled');\n          numInputClass.value = '25';\n          incArrow.classList.remove('disabled');\n          decArrow.classList.remove('disabled');\n          widgetNode.setAttribute('w-radius', '25');\n      }\n      */\n    }\n\n    if(targetName === \"w-latlong\"){\n        if (targetValue == '') {\n            document.getElementById('w-latlong').value = document.getElementById('h-latlong').value;\n            targetValue = document.getElementById('w-latlong').value;\n        }\n        widgetNode.setAttribute('w-latlong', targetValue.replace(/\\s+/g, ''));\n    }\n\n    if(targetName === \"w-postalcodeapi\"){\n        widgetNode.setAttribute('w-country', '');\n        widgetNode.setAttribute('w-postalcodeapi', document.getElementById('w-postalcodeapi').value);\n        isPostalCodeChanged = true;\n    }\n\n\n    if(targetName === \"w-theme\"){\n      if(targetValue === 'simple'){\n        $colorSchemeSelector.hide();\n      }else{\n        $colorSchemeSelector.show();\n      }\n\n      if(widgetNode.getAttribute('w-layout') === 'horizontal'){\n        widgetNode.setAttribute('w-height', getHeightByTheme(targetValue));\n      }\n      widgetNode.setAttribute('w-border', getBorderByTheme(targetValue));\n      \n    }\n\n    if(targetName === \"w-layout\"){\n      let sizeConfig = themeConfig.initSliderSize;\n      if(targetValue === 'horizontal'){\n        sizeConfig = {\n          width: 620,\n          height: getHeightByTheme(widgetNode.getAttribute('w-theme')),\n          maxWidth: 900,\n          minWidth: 620\n        };\n      }\n\n      $widthController.slider({\n          setValue: sizeConfig.width ,\n          max: sizeConfig.maxWidth,\n          min: sizeConfig.minWidth\n        })\n        .slider('refresh');\n\n      /**/\n      fullWidth(targetValue);\n            \n      widgetNode.setAttribute('w-width', sizeConfig.width);\n      widgetNode.setAttribute('w-height', sizeConfig.height);\n    }\n\n    //Check fixed sizes for 'simple' theme\n    if(targetName === \"w-proportion\") {\n      let widthSlider = $('.js_widget_width_slider');\n      let sizeConfig = {\n        width: themeConfig.sizes[targetValue].width,\n        height: themeConfig.sizes[targetValue].height,\n        maxWidth: 600,\n        minWidth: 350\n      };\n\n      //set layout\n      widgetNode.setAttribute('w-layout', themeConfig.sizes[targetValue].layout);\n\n      if (targetValue !== 'custom') {\n        $tabButtons.slideUp(\"fast\");\n        widthSlider.slideUp(\"fast\");\n      }else{\n        $tabButtons.slideDown(\"fast\");\n        widthSlider.slideDown(\"fast\");\n        $('input:radio[name=\"w-layout\"][value=\"vertical\"]',$tabButtons).prop('checked', true);\n\n        sizeConfig = { //default size\n          width: themeConfig.initSliderSize.width,  //350\n          height: themeConfig.initSliderSize.height,  //600\n          maxWidth: themeConfig.initSliderSize.maxWidth,  //500\n          minWidth: themeConfig.initSliderSize.minWidth // 350\n        };\n        $widthController.slider({\n            setValue: sizeConfig.width,\n            max: sizeConfig.maxWidth,\n            min: sizeConfig.minWidth\n          })\n          .slider('refresh');\n\n      }\n\n      widgetNode.setAttribute('w-width', sizeConfig.width);\n      widgetNode.setAttribute('w-height', sizeConfig.height);\n    }\n\n    widgetNode.setAttribute(event.target.name, event.target.value);\n    widget.update();\n\n    windowScroll(); //recalculate widget container position\n  };\n\n  var resetWidget = function(configForm, excludeOption) {\n    let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\n      height = 600,\n      theme,\n      layout;\n    const widthSlider = $('.js_widget_width_slider'),\n      $tabButtons = $('.js-tab-buttons');\n\n    configForm.find(\"input[type='text'], input[type='number']\").each(function(){\n      let $self = $(this),\n        data = $self.data(),\n        value = data.defaultValue;\n\n      if(data.sliderValue){\n        value = data.sliderValue;\n        $self.slider({\n          setValue: value,\n          max: data.sliderMax,\n          min: data.sliderMin\n        })\n        .slider('refresh');\n      }else{\n        $self.val(value);\n      }\n\n      document.getElementById(\"w-country\").disabled = true;\n\n      var activeItems = document.querySelectorAll('.custom_select__item.custom_select__item-active');\n      var activeItemsLenght = activeItems.length;\n      for (let i = 0; i < activeItemsLenght; ++i) {\n        activeItems[i].classList.remove('custom_select__item-active');\n      }\n\n      [\"#w-countryCode\",\"#w-source\"].map((item)=> {\n        $(item).prop(\"selectedIndex\", -1);\n      });\n      widgetNode.setAttribute($self.attr('name'), value);\n      if ( $self.attr('name') === 'w-tm-api-key' ) widgetNode.removeAttribute($self.attr('name'));\n\n    });\n\n    configForm.find(\"input[type='radio']\").each(function(){\n      var $self = $(this);\n      if($self.data('is-checked')){\n        let name = $self.attr('name'),\n            val = $self.val();\n        if(name === 'w-theme'){\n          theme = val;\n        }else if(name === 'w-layout'){\n          layout = val;\n        }else if(name === 'w-proportion'){\n          $tabButtons.slideDown(\"fast\");\n          widthSlider.slideDown(\"fast\");\n        }\n        $self.prop('checked', true);\n        widgetNode.setAttribute($self.attr('name'), val);\n      }\n    });\n\n    if(layout === 'horizontal'){\n      height = getHeightByTheme(theme);\n    }\n    widgetNode.setAttribute('w-height', height);\n    widgetNode.setAttribute('w-border', 0);\n    widgetNode.removeAttribute('w-countryCode');\n    widgetNode.removeAttribute('w-source');\n\n    $('.country-select .js_custom_select').removeClass('custom_select-opened');//reset custom select\n    widget.onLoadCoordinate();\n    widget.update();\n  };\n\n  var $configForm = $(\".main-widget-config-form\"),\n      $widgetModal = $('#js_widget_modal'),\n      $widgetModalNoCode = $('#js_widget_modal_no_code'),\n      $widgetModalMap = $('#js_widget_modal_map');\n\n  $configForm.on(\"change\", changeState);\n  // Mobile devices. Force 'change' by 'Go' press\n  $configForm.on(\"submit\", function (e) {\n    $configForm.find('input:focus').trigger('blur');\n    e.preventDefault();\n  });\n\n  $configForm.find(\"input[type='text'], input[type='number']\").each(function(){\n    var $self = $(this);\n    $self.data('default-value', $self.val());\n  });\n\n  $configForm.find(\"input[type='radio']\").each(function(){\n    var $self = $(this);\n    if($self.is(':checked'))\n      $self.data('is-checked', 'checked');\n  });\n\n  $('.js_get_widget_code').on('click', function(){\n    var codeCont = document.querySelector(\".language-html.widget_dialog__code\");\n    var htmlCode = document.createElement(\"div\");\n    widget.config.latlong = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\n    for(var key in widget.config){\n      if(key !== 'latlongggg'){\n        htmlCode.setAttribute(\"w-\"+key,widget.config[key]);\n      }\n    }\n    // Use only Key from config form\n    htmlCode.setAttribute('w-googleapikey', getGooleApiKey());\n    var tmp = document.createElement(\"div\");\n    tmp.appendChild(htmlCode);\n    codeCont.textContent = tmp.innerHTML;\n    $widgetModal.modal();\n  });\n\n\n  $('.js_reset_widget').on('click', function(){\n    resetWidget($configForm);\n  });\n\n  $('#js_widget_modal__close').on('click', function(){\n    $widgetModal.modal('hide');\n  });\n\n  $('#js_widget_modal_no_code__close').on('click', function(){\n    $widgetModalNoCode.modal('hide');\n  });\n\n  $('#js_widget_modal_map__open').on('click', function(e){\n      e.preventDefault();\n      $widgetModalMap.modal();\n  });\n\n  $('#js_widget_modal_map__close').on('click', function(){\n      $widgetModalMap.modal('hide');\n      document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-latlong', document.getElementById('w-latlong').value.replace(/\\s+/g, ''));\n      widget.config.latlong = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\n      widget.update();\n  });\n\n  $('.widget__location span').on('click', function(){\n      $('.widget__location').addClass('hidn');\n      $('.widget__latlong').removeClass('hidn');\n      document.getElementById('h-countryCode').value = document.getElementById('w-countryCode').value;\n      document.getElementById('h-postalcodeapi').value = document.getElementById('w-postalcodeapi').value;\n      document.getElementById('h-city').value = document.getElementById('w-city').value;\n      document.getElementById('w-latlong').value = document.getElementById('h-latlong').value;\n      widget.config.latlong = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\n      document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-latlong', widget.config.latlong);\n      document.querySelector('[w-type=\"event-discovery\"]').removeAttribute('w-countrycode');\n      document.querySelector('[w-type=\"event-discovery\"]').removeAttribute('w-postalcodeapi');\n      document.querySelector('[w-type=\"event-discovery\"]').removeAttribute('w-city');\n      widget.update();\n  });\n\n  $('.widget__latlong span').on('click', function(){\n      $('.widget__latlong').addClass('hidn');\n      $('.widget__location').removeClass('hidn');\n      document.getElementById('h-latlong').value = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\n      document.getElementById('w-latlong').value = '';\n      document.querySelector('[w-type=\"event-discovery\"]').removeAttribute('w-latlong');\n      document.getElementById('w-countryCode').value = document.getElementById('h-countryCode').value;\n      document.getElementById('w-postalcodeapi').value = document.getElementById('h-postalcodeapi').value;\n      document.getElementById('w-city').value = document.getElementById('h-city').value;\n      widget.config.countrycode = document.getElementById('w-countryCode').value;\n      widget.config.postalcode = document.getElementById('w-postalcodeapi').value;\n      widget.config.city = document.getElementById('w-city').value;\n      document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-countrycode', widget.config.countrycode);\n      document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-postalcodeapi', widget.config.postalcode);\n      document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-city', widget.config.city);\n      widget.config.latlong = '';\n      widget.update();\n  });\n\n  widget.onLoadCoordinate = function (results, countryShortName = '') {\n    widget.config['country'] = countryShortName;\n    if(isPostalCodeChanged){\n      isPostalCodeChanged = false;\n\n      let $countrySelect = $('#w-country'),\n        $ul = $(\".country-select .js_widget_custom__list\"),\n        options = \"<option selected value=''>All</option>\";\n\n      $countrySelect.html('');\n      $ul.html(''); //clear custom select list\n      $countrySelect.prop('disabled', !results);\n      if(results){\n        let status;\n        if (results.length <=1) status = true;\n        else status = false;\n        $countrySelect.prop('disabled', status);\n        // $countrySelect.prop('disabled', !results.length);\n        options = '';\n        for(let i in results){\n          let result = results[i];\n          if(result.address_components){\n            let country = result.address_components[result.address_components.length - 1];\n            if(country){\n              let isSelected = country.short_name === countryShortName ? 'selected' : '';\n              options += `<option ${isSelected} value=\"${country.short_name}\">${country.long_name}</option>`;\n            }\n          }\n        }\n      }\n\n      $countrySelect.append(options);\n      addCustomList($ul, '#w-country', countryShortName);\n    }\n  };\n\n  function addCustomList(listWrapperElement, listWrapperId, activeVal) {\n    var $listOption = $(listWrapperId).find('option'),//update list\n        $placeholder = $(\".country-select\").find(\".custom_select__placeholder\"),\n        $ul = listWrapperElement;\n  \n    $placeholder.val( $listOption.html() );\n\n    $listOption.each(function () {\n      var data = {\n        value: $(this).val()\n      };\n      $ul.append(`<li class=\"custom_select__item ${activeVal === data.value ? 'custom_select__item-active' : ''}\" data-value=\"${data.value}\">${$(this).text()}</li>`)\n    });\n  }\n\n  // clearDropDownInput(['#w-countryCode','#w-source']);\n  function clearDropDownInput(elemIds) {\n    elemIds.map((item)=> {\n      $(item).val('');\n    } );\n  }\n\n\n  // Set min widget size on mobile devices\n  if(parseInt($(window).width(), 10) < 767){\n    $('#w-fixed-300x250').trigger('click');\n  }\n})();\n"]}