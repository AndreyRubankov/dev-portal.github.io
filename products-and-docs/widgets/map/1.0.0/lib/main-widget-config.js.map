{"version":3,"sources":["../src/main-widget-config.es6"],"names":["DEFAULT_API_KEY","apiKeyService","checkApiKeyCookie","getApiWidgetsKey","getHeightByTheme","theme","getBorderByTheme","getGooleApiKey","code","widget","widgetsMap","themeConfig","sizes","s","width","height","layout","m","l","xl","xxl","custom","initSliderSize","maxWidth","minWidth","isPostalCodeChanged","$widthController","$","slider","tooltip","handle","$borderRadiusController","$colorSchemeSelector","on","e","windowScroll","$window","window","$containerWidget","$configBlock","window_min","window_max","desktopWidth","threshold_offset","setLimits","topCss","css","parseInt","headerOffset","max_move","offset","top","min_move","data","innerWidth","j","updateScroll","scrollTop","containerMove","setTimeout","containerMove_clearOffset","marginTop","min","max","wst","replaceApiKey","options","userKey","sessionStorage","getItem","inputApiKey","widgetNode","attr","val","setAttribute","update","document","querySelector","changeState","event","target","name","targetValue","value","targetName","$tabButtons","getElementById","hide","show","getAttribute","sizeConfig","setValue","widthSlider","slideUp","slideDown","prop","resetWidget","configForm","find","each","$self","defaultValue","sliderValue","sliderMax","sliderMin","activeItems","querySelectorAll","activeItemsLenght","length","i","classList","remove","map","item","removeAttribute","removeClass","onLoadCoordinate","$configForm","$widgetModal","$widgetModalNoCode","trigger","preventDefault","is","codeCont","htmlCode","createElement","key","config","tmp","appendChild","textContent","innerHTML","modal","addClass","latlong","countrycode","postalcode","city","results","countryShortName","addCustomList","listWrapperElement","listWrapperId","activeVal","$listOption","$placeholder","$ul","html","append","text","clearDropDownInput","elemIds"],"mappings":"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","file":"main-widget-config.js","sourcesContent":["(function(){\r\n\r\n    const DEFAULT_API_KEY = apiKeyService.checkApiKeyCookie() || apiKeyService.getApiWidgetsKey();\r\n\r\n    function getHeightByTheme(theme){\r\n        return (theme === 'simple' ? 286 : 339);\r\n    }\r\n\r\n    function getBorderByTheme(theme) {\r\n        switch (theme) {\r\n            case 'simple':\r\n                return 0;\r\n                break;\r\n            default:\r\n                return 2;\r\n        }\r\n    }\r\n\r\n    function getGooleApiKey(code) { return code || \"AIzaSyBQrJ5ECXDaXVlICIdUBOe8impKIGHDzdA\";}\r\n\r\n    let widget = widgetsMap[0],\r\n        themeConfig = {\r\n            sizes: {\r\n                s: {\r\n                    width: 160,\r\n                    height: 300,\r\n                    layout: 'horizontal'\r\n                },\r\n                m: {\r\n                    width: 300,\r\n                    height: 250,\r\n                    layout: 'vertical'\r\n                },\r\n                l: {\r\n                    width: 160,\r\n                    height: 300,\r\n                    layout: 'horizontal'\r\n                },\r\n                xl: {\r\n                    width: 160,\r\n                    height: 300,\r\n                    layout: 'horizontal'\r\n                },\r\n                xxl: {\r\n                    width: 300,\r\n                    height: 600,\r\n                    layout: 'vertical'\r\n                },\r\n                custom: {\r\n                    width: 300,\r\n                    height: 560,\r\n                    layout: 'vertical'\r\n                }\r\n            },\r\n            initSliderSize: {\r\n                width: 300,\r\n                height: 560,\r\n                maxWidth: 300,\r\n                minWidth: 560\r\n            }\r\n        },\r\n        isPostalCodeChanged = false;\r\n\r\n    var $widthController = $('#w-width').slider({\r\n            tooltip: 'always',\r\n            handle: 'square'\r\n        }),\r\n        $borderRadiusController = $('#w-borderradius').slider({\r\n            tooltip: 'always',\r\n            handle: 'square'\r\n        }),\r\n        $colorSchemeSelector = $('.widget__color_scheme_control');\r\n\r\n    $('#js_styling_nav_tab').on('shown.bs.tab', function (e) {\r\n        $widthController.slider('relayout');\r\n        $borderRadiusController.slider('relayout');\r\n        windowScroll(); //recalculate widget container position\r\n    });\r\n\r\n    //variables for fixed widget\r\n    var $window = $(window),\r\n        $containerWidget = $(\".widget-container-wrapper\"),\r\n        $configBlock = $(\".config-block\"),\r\n        window_min = 0,\r\n        window_max = 0,\r\n        desktopWidth = 1200,\r\n        threshold_offset = 50;\r\n    /*\r\n     set the container's maximum and minimum limits as well as movement thresholds\r\n     */\r\n    function setLimits(){\r\n        //max and min container movements\r\n        var topCss = ($containerWidget.css(\"top\")>0) ? parseInt($containerWidget.css(\"top\")) : 0;\r\n        var headerOffset = $('.top-bar').height() + /*padding of top-bar*/8 + /*bottom-margin*/10;\r\n        var max_move = $configBlock.offset().top + $configBlock.height() - $containerWidget.height() - topCss - headerOffset;\r\n        var min_move = $configBlock.offset().top - headerOffset;\r\n\r\n        $containerWidget\r\n            .data('min', min_move)\r\n            .data('max', max_move);\r\n\r\n        //window thresholds so the movement isn't called when its not needed!\r\n        window_min = min_move - threshold_offset;\r\n        window_max = max_move + $containerWidget.height() + threshold_offset;\r\n    }\r\n    //sets the limits for the first load\r\n    setLimits();\r\n\r\n    function windowScroll(){\r\n        let innerWidth = window.innerWidth;\r\n        let j = 0;\r\n        function updateScroll() {\r\n            //if the window is within the threshold, begin movements\r\n            if ($window.scrollTop() >= window_min && $window.scrollTop() < window_max) {\r\n                if ($containerWidget.height() < $configBlock.height() && innerWidth >= desktopWidth) {\r\n                    //reset the limits (optional)\r\n                    setLimits();\r\n                    //move the container\r\n                    containerMove();\r\n                }\r\n            }\r\n            j++;\r\n        }\r\n        if(j === 0) updateScroll();\r\n\r\n        setTimeout(() => {\r\n            if (innerWidth < desktopWidth && $containerWidget.height() > $configBlock.height()) {\r\n                // console.log('*** ', j , innerWidth ,'<', desktopWidth );\r\n                containerMove_clearOffset();\r\n                updateScroll();\r\n            }\r\n            if($containerWidget.height() < $configBlock.height() || innerWidth >= desktopWidth) {\r\n                // console.log('ignore ',j);\r\n                if( innerWidth < desktopWidth ){\r\n                    containerMove_clearOffset();\r\n                }\r\n                updateScroll();\r\n            }\r\n        }, 200);\r\n\r\n    }\r\n\r\n    $window.on(\"scroll load resize\", windowScroll);\r\n\r\n    /**\r\n     * Clear top offset of widget container\r\n     */\r\n    function containerMove_clearOffset(){\r\n        $containerWidget.css(\"margin-top\", 0);\r\n    }\r\n    /**\r\n     * Handles moving the container if needed.\r\n     **/\r\n    function containerMove(){\r\n        let marginTop = 0;\r\n        const wst = $window.scrollTop(),\r\n            {min, max} = $containerWidget.data();\r\n\r\n        //if the window scroll is within the min and max (the container will be 'sticky';\r\n        if( wst >= min && wst <= max ){\r\n            //if the window scroll is below the minimum move it down!\r\n            marginTop = wst - min;\r\n        }else if( wst > max ){\r\n            marginTop = max - min;\r\n        }\r\n        $containerWidget.css('marginTop', (marginTop > 0 ? marginTop : 0));\r\n    }\r\n    //do one container move on load\r\n    containerMove();\r\n\r\n    var replaceApiKey = function (options) {\r\n        let userKey = options.userKey || sessionStorage.getItem('tk-api-key') || DEFAULT_API_KEY;\r\n\r\n        if(userKey !== null) {\r\n            let {inputApiKey, widgetNode , widget } = options;\r\n            inputApiKey\r\n                .attr('value',userKey)\r\n                .val(userKey);\r\n            widgetNode.setAttribute(\"w-tmapikey\", userKey);\r\n            widget.update();\r\n        }\r\n    };\r\n    replaceApiKey({\r\n        inputApiKey:$('#w-tm-api-key'),\r\n        widgetNode: document.querySelector(\"div[w-tmapikey]\"),\r\n        widget\r\n    });\r\n\r\n\r\n    var changeState = function(event){\r\n        if(!event.target.name || event.target.name === \"w-googleapikey\") return;\r\n\r\n        let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\r\n            targetValue = event.target.value,\r\n            targetName = event.target.name,\r\n            $tabButtons = $('.js-tab-buttons');\r\n\r\n        if(targetName === \"w-tm-api-key\") {\r\n            document.querySelector('[w-type=\"map\"]').setAttribute('w-tmapikey', targetValue);\r\n\r\n            if (sessionStorage.getItem('tk-api-key')) {\r\n                document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\r\n                document.querySelector('[w-type=\"map\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\r\n            }\r\n            if (document.getElementById('w-tm-api-key').value == '') {\r\n                if (sessionStorage.getItem('tk-api-key')) {\r\n                    document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\r\n                    document.querySelector('[w-type=\"map\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\r\n                }\r\n                else {\r\n                    document.getElementById('w-tm-api-key').value = DEFAULT_API_KEY;\r\n                    document.querySelector('[w-type=\"map\"]').setAttribute('w-tmapikey', DEFAULT_API_KEY);\r\n                }\r\n            }\r\n        }\r\n\r\n        if(targetName === \"w-latitude\"){\r\n            document.querySelector('[w-type=\"map\"]').setAttribute('w-latlong', targetValue + ',' + document.getElementById('w-longitude').value);\r\n        }\r\n\r\n        if(targetName === \"w-longitude\"){\r\n            document.querySelector('[w-type=\"map\"]').setAttribute('w-latlong', document.getElementById('w-latitude').value + \",\" + targetValue);\r\n        }\r\n\r\n        if(targetName === \"w-postalcode\"){\r\n            widgetNode.setAttribute('w-country', '');\r\n            widgetNode.setAttribute('w-postalcode', document.getElementById('w-postalcode').value);\r\n            isPostalCodeChanged = true;\r\n        }\r\n\r\n        if(targetName === \"w-theme\"){\r\n            if(targetValue === 'simple'){\r\n                $colorSchemeSelector.hide();\r\n            }else{\r\n                $colorSchemeSelector.show();\r\n            }\r\n\r\n            if(widgetNode.getAttribute('w-layout') === 'horizontal'){\r\n                widgetNode.setAttribute('w-height', getHeightByTheme(targetValue));\r\n            }\r\n            widgetNode.setAttribute('w-border', getBorderByTheme(targetValue));\r\n        }\r\n\r\n        if(targetName === \"w-layout\"){\r\n            let sizeConfig = themeConfig.initSliderSize;\r\n            if(targetValue === 'horizontal'){\r\n                sizeConfig = {\r\n                    width: 620,\r\n                    height: getHeightByTheme(widgetNode.getAttribute('w-theme')),\r\n                    maxWidth: 900,\r\n                    minWidth: 620\r\n                };\r\n            }\r\n\r\n            $widthController.slider({\r\n                setValue: sizeConfig.width ,\r\n                max: sizeConfig.maxWidth,\r\n                min: sizeConfig.minWidth\r\n            })\r\n                .slider('refresh');\r\n\r\n            widgetNode.setAttribute('w-width', sizeConfig.width);\r\n            widgetNode.setAttribute('w-height', sizeConfig.height);\r\n        }\r\n\r\n        //Check fixed sizes for 'simple' theme\r\n        if(targetName === \"w-proportion\") {\r\n            let widthSlider = $('.js_widget_width_slider');\r\n            let sizeConfig = {\r\n                width: themeConfig.sizes[targetValue].width,\r\n                height: themeConfig.sizes[targetValue].height,\r\n                maxWidth: 600,\r\n                minWidth: 350\r\n            };\r\n\r\n            //set layout\r\n            widgetNode.setAttribute('w-layout', themeConfig.sizes[targetValue].layout);\r\n\r\n            if (targetValue !== 'custom') {\r\n                $tabButtons.slideUp(\"fast\");\r\n                widthSlider.slideUp(\"fast\");\r\n            }else{\r\n                $tabButtons.slideDown(\"fast\");\r\n                widthSlider.slideDown(\"fast\");\r\n                $('input:radio[name=\"w-layout\"][value=\"vertical\"]',$tabButtons).prop('checked', true);\r\n\r\n                sizeConfig = { //default size\r\n                    width: themeConfig.initSliderSize.width,  //350\r\n                    height: themeConfig.initSliderSize.height,  //600\r\n                    maxWidth: themeConfig.initSliderSize.maxWidth,  //500\r\n                    minWidth: themeConfig.initSliderSize.minWidth // 350\r\n                };\r\n                $widthController.slider({\r\n                    setValue: sizeConfig.width,\r\n                    max: sizeConfig.maxWidth,\r\n                    min: sizeConfig.minWidth\r\n                })\r\n                    .slider('refresh');\r\n\r\n            }\r\n\r\n            widgetNode.setAttribute('w-width', sizeConfig.width);\r\n            widgetNode.setAttribute('w-height', sizeConfig.height);\r\n        }\r\n\r\n        widgetNode.setAttribute(event.target.name, event.target.value);\r\n        widget.update();\r\n\r\n        windowScroll(); //recalculate widget container position\r\n    };\r\n\r\n    var resetWidget = function(configForm) {\r\n        let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\r\n            height = 600,\r\n            theme,\r\n            layout;\r\n        const widthSlider = $('.js_widget_width_slider'),\r\n            $tabButtons = $('.js-tab-buttons');\r\n\r\n        configForm.find(\"input[type='text'], input[type='number']\").each(function(){\r\n            let $self = $(this),\r\n                data = $self.data(),\r\n                value = data.defaultValue;\r\n\r\n            if(data.sliderValue){\r\n                value = data.sliderValue;\r\n                $self.slider({\r\n                    setValue: value,\r\n                    max: data.sliderMax,\r\n                    min: data.sliderMin\r\n                })\r\n                    .slider('refresh');\r\n            }else{\r\n                $self.val(value);\r\n            }\r\n\r\n            var activeItems = document.querySelectorAll('.custom_select__item.custom_select__item-active');\r\n            var activeItemsLenght = activeItems.length;\r\n            for (let i = 0; i < activeItemsLenght; ++i) {\r\n                activeItems[i].classList.remove('custom_select__item-active');\r\n            }\r\n\r\n            [\"#w-countryCode\",\"#w-source\"].map((item)=> {\r\n                $(item).prop(\"selectedIndex\", -1);\r\n            });\r\n            widgetNode.setAttribute($self.attr('name'), value);\r\n            if ( $self.attr('name') === 'w-tm-api-key' ) widgetNode.removeAttribute($self.attr('name'));\r\n\r\n        });\r\n\r\n        configForm.find(\"input[type='radio']\").each(function(){\r\n            var $self = $(this);\r\n            if($self.data('is-checked')){\r\n                let name = $self.attr('name'),\r\n                    val = $self.val();\r\n                if(name === 'w-theme'){\r\n                    theme = val;\r\n                }else if(name === 'w-layout'){\r\n                    layout = val;\r\n                }else if(name === 'w-proportion'){\r\n                    $tabButtons.slideDown(\"fast\");\r\n                    widthSlider.slideDown(\"fast\");\r\n                }\r\n                $self.prop('checked', true);\r\n                widgetNode.setAttribute($self.attr('name'), val);\r\n            }\r\n        });\r\n\r\n        if(layout === 'horizontal'){\r\n            height = getHeightByTheme(theme);\r\n        }\r\n        widgetNode.setAttribute('w-height', height);\r\n        widgetNode.setAttribute('w-border', 0);\r\n        widgetNode.removeAttribute('w-countryCode');\r\n        widgetNode.removeAttribute('w-source');\r\n\r\n        $('.country-select .js_custom_select').removeClass('custom_select-opened');//reset custom select\r\n        widget.onLoadCoordinate();\r\n        widget.update();\r\n    };\r\n\r\n    var $configForm = $(\".main-widget-config-form\"),\r\n        $widgetModal = $('#js_widget_modal'),\r\n        $widgetModalNoCode = $('#js_widget_modal_no_code');\r\n\r\n    $configForm.on(\"change\", changeState);\r\n    // Mobile devices. Force 'change' by 'Go' press\r\n    $configForm.on(\"submit\", function (e) {\r\n        $configForm.find('input:focus').trigger('blur');\r\n        e.preventDefault();\r\n    });\r\n\r\n    $configForm.find(\"input[type='text'], input[type='number']\").each(function(){\r\n        var $self = $(this);\r\n        $self.data('default-value', $self.val());\r\n    });\r\n\r\n    $configForm.find(\"input[type='radio']\").each(function(){\r\n        var $self = $(this);\r\n        if($self.is(':checked'))\r\n            $self.data('is-checked', 'checked');\r\n    });\r\n\r\n    $('.js_get_widget_code').on('click', function(){\r\n        var codeCont = document.querySelector(\".language-html.widget_dialog__code\");\r\n        var htmlCode = document.createElement(\"div\");\r\n        for(var key in widget.config){\r\n            if(key !== 'latlong'){\r\n                htmlCode.setAttribute(\"w-\"+key,widget.config[key]);\r\n            }\r\n        }\r\n        // Use only Key from config form\r\n        htmlCode.setAttribute('w-googleapikey', getGooleApiKey());\r\n        var tmp = document.createElement(\"div\");\r\n        tmp.appendChild(htmlCode);\r\n        codeCont.textContent = tmp.innerHTML;\r\n        $widgetModal.modal();\r\n    });\r\n\r\n    $('.js_reset_widget').on('click', function(){\r\n        resetWidget($configForm);\r\n    });\r\n\r\n    $('#js_widget_modal__close').on('click', function(){\r\n        $widgetModal.modal('hide');\r\n    });\r\n\r\n    $('#js_widget_modal_no_code__close').on('click', function(){\r\n        $widgetModalNoCode.modal('hide');\r\n    });\r\n\r\n    $('.widget__location span').on('click', function(){\r\n        $('.widget__location').addClass('hidn');\r\n        $('.widget__latlong').removeClass('hidn');\r\n        document.getElementById('h-countryCode').value = document.getElementById('w-countryCode').value;\r\n        document.getElementById('h-postalcode').value = document.getElementById('w-postalcode').value;\r\n        document.getElementById('h-city').value = document.getElementById('w-city').value;\r\n        document.getElementById('w-latitude').value = document.getElementById('h-latitude').value;\r\n        document.getElementById('w-longitude').value = document.getElementById('h-longitude').value;\r\n        widget.config.latlong = document.getElementById('w-latitude').value + ',' + document.getElementById('w-longitude').value;\r\n        document.querySelector('[w-type=\"map\"]').setAttribute('w-latlong', widget.config.latlong);\r\n        document.querySelector('[w-type=\"map\"]').removeAttribute('w-countrycode');\r\n        document.querySelector('[w-type=\"map\"]').removeAttribute('w-postalcode');\r\n        document.querySelector('[w-type=\"map\"]').removeAttribute('w-city');\r\n        widget.config.countrycode = '';\r\n        widget.config.postalcode = '';\r\n        widget.config.city = '';\r\n        widget.update();\r\n    });\r\n\r\n    $('.widget__latlong span').on('click', function(){\r\n        $('.widget__latlong').addClass('hidn');\r\n        $('.widget__location').removeClass('hidn');\r\n        document.getElementById('h-latitude').value = document.getElementById('w-latitude').value;\r\n        document.getElementById('h-longitude').value = document.getElementById('w-longitude').value;\r\n        document.getElementById('w-latitude').value = '';\r\n        document.getElementById('w-longitude').value = '';\r\n        document.querySelector('[w-type=\"map\"]').removeAttribute('w-latitude');\r\n        document.querySelector('[w-type=\"map\"]').removeAttribute('w-longitude');\r\n        document.querySelector('[w-type=\"map\"]').removeAttribute('w-latlong');\r\n        document.getElementById('w-countryCode').value = document.getElementById('h-countryCode').value;\r\n        document.getElementById('w-postalcode').value = document.getElementById('h-postalcode').value;\r\n        document.getElementById('w-city').value = document.getElementById('h-city').value;\r\n        widget.config.countrycode = document.getElementById('w-countryCode').value;\r\n        widget.config.postalcode = document.getElementById('w-postalcode').value;\r\n        widget.config.city = document.getElementById('w-city').value;\r\n        document.querySelector('[w-type=\"map\"]').setAttribute('w-countrycode', widget.config.countrycode);\r\n        document.querySelector('[w-type=\"map\"]').setAttribute('w-postalcode', widget.config.postalcode);\r\n        document.querySelector('[w-type=\"map\"]').setAttribute('w-city', widget.config.city);\r\n        widget.config.latlong = '';\r\n        widget.update();\r\n    });\r\n\r\n    widget.onLoadCoordinate = function (results, countryShortName = '') {\r\n    };\r\n\r\n    function addCustomList(listWrapperElement, listWrapperId, activeVal) {\r\n        var $listOption = $(listWrapperId).find('option'),//update list\r\n            $placeholder = $(\".country-select\").find(\".custom_select__placeholder\"),\r\n            $ul = listWrapperElement;\r\n\r\n        $placeholder.val( $listOption.html() );\r\n\r\n        $listOption.each(function () {\r\n            var data = {\r\n                value: $(this).val()\r\n            };\r\n            $ul.append(`<li class=\"custom_select__item ${activeVal === data.value ? 'custom_select__item-active' : ''}\" data-value=\"${data.value}\">${$(this).text()}</li>`)\r\n        });\r\n    }\r\n\r\n    function clearDropDownInput(elemIds) {\r\n        elemIds.map((item)=> {\r\n            $(item).val('');\r\n        } );\r\n    }\r\n\r\n\r\n    // Set min widget size on mobile devices\r\n    if(parseInt($(window).width(), 10) < 767){\r\n        $('#w-fixed-300x250').trigger('click');\r\n    }\r\n})();\r\n"]}