{"version":3,"sources":["../src/main-widget-config.es6"],"names":[],"mappings":"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","file":"main-widget-config.js","sourcesContent":["(function(){\r\n\r\n  var themeMatrix = {\r\n      simple: {\r\n        name: 'Poster',\r\n        sizes: {\r\n          s: {\r\n            width: 160,\r\n            height: 300,\r\n            layout: 'horisontal'\r\n          },\r\n          m: {\r\n            width: 160,\r\n            height: 300,\r\n            layout: 'horisontal'\r\n          },\r\n          l: {\r\n            width: 160,\r\n            height: 300,\r\n            layout: 'horisontal'\r\n          },\r\n          xl: {\r\n            width: 160,\r\n            height: 300,\r\n            layout: 'horisontal'\r\n          },\r\n          xxl: {\r\n            width: 300,\r\n            height: 600,\r\n            layout: 'vertical'\r\n          },\r\n          custom: {\r\n            width: 350,\r\n            height: 550,\r\n            layout: 'vertical'\r\n          }\r\n        }\r\n      },\r\n      oldskool : {},\r\n      ColocolorBlock: {}\r\n  };\r\n\r\n\r\n  function getHeightByTheme(theme){\r\n    return (theme === 'simple' ? 238 : 300);\r\n  }\r\n\r\n  // TODO: do we need 'config' variable ?\r\n  var config = {\"ak\":\"KRUnjq8y8Sg5eDpP90dNzOK70d4WiUst\",\"kw\":\"Def\",\"t\":{\"n\":\"t1\",\"b\":false,\"h\":550,\"w\":350,\"br\":4}};\r\n\r\n  var $layoutSelectors = $('#w-colorscheme-light, #w-colorscheme-dark'),\r\n  $widthController = $('#w-width').slider({\r\n    tooltip: 'always',\r\n    handle: 'square'\r\n  }),\r\n  $borderRadiusController = $('#w-borderradius').slider({\r\n    tooltip: 'always',\r\n    handle: 'square'\r\n  });\r\n\r\n  $('#js_styling_nav_tab').on('shown.bs.tab', function (e) {\r\n    $widthController.slider('relayout');\r\n    $borderRadiusController.slider('relayout');\r\n  });\r\n\r\n  var changeState = function(event){\r\n    let widgetNode = document.querySelector(\"div[w-tmapikey]\");\r\n\r\n    if(event.target.name === \"w-postalcode\"){\r\n      widgetNode.setAttribute('w-country', '');\r\n      $('#w-country').prop('disabled', true)\r\n        .data('cleared', true)\r\n        .html('');\r\n    }\r\n\r\n    if(event.target.name === \"w-theme\"){\r\n      if(event.target.value === 'simple'){\r\n        $layoutSelectors.prop('disabled', true);\r\n      }else{\r\n        $layoutSelectors.prop('disabled', false);\r\n      }\r\n\r\n      if(widgetNode.getAttribute('w-layout') === 'horizontal'){\r\n        widgetNode.setAttribute('w-height', getHeightByTheme(event.target.value));\r\n      }\r\n    }\r\n\r\n    //FixMe\r\n    if(event.target.name === \"w-layout\" || event.target.name === \"w-proportion\"){\r\n      let widthSlider = $('#widget-config-styling > div:nth-child(2) > div:nth-child(1)');\r\n      let tabBurrons = $('#widget-config-styling > div:nth-child(1) > div.col-lg-12.col-md-4.col-sm-4.col-sm-layout > div > div.tab-buttons');\r\n      let sizeConfig = {\r\n          width: 350,\r\n          height: 550,\r\n          maxWidth: 500,\r\n          minWidth: 350\r\n        };\r\n\r\n      if(event.target.value === 'horizontal'){\r\n        sizeConfig = {\r\n          width: 620,\r\n          height: getHeightByTheme(widgetNode.getAttribute('w-theme')),\r\n          maxWidth: 900,\r\n          minWidth: 620\r\n        };\r\n      }\r\n      let tValue = event.target.value;\r\n      console.log('tValue',tValue);\r\n      console.log('themeMatrix.simple.sizes.tValue',themeMatrix.simple.sizes[tValue]);\r\n      sizeConfig = {\r\n        width: themeMatrix.simple.sizes[tValue].width,\r\n        height: themeMatrix.simple.sizes[tValue].height,\r\n        maxWidth: 600,\r\n        minWidth: 350\r\n      };\r\n      if (event.target.value !== 'custom'){\r\n        tabBurrons.hide();\r\n        widthSlider.hide();\r\n      }else {\r\n        tabBurrons.show();\r\n        widthSlider.show();\r\n      }\r\n\r\n\r\n      $widthController.slider({\r\n        setValue: sizeConfig.width,\r\n        max: sizeConfig.maxWidth,\r\n        min: sizeConfig.minWidth\r\n      })\r\n      .slider('refresh');\r\n\r\n      widgetNode.setAttribute('w-width', sizeConfig.width);\r\n      widgetNode.setAttribute('w-height', sizeConfig.height);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param radioValue = value from radio button\r\n     * @param params = additional options for style customization\r\n     */\r\n    function SetFixedSize(radioValue, params) {\r\n      //console.log(radioValue, 'radioValue');\r\n\r\n      let sizeConfig = {\r\n        width: 300,\r\n        height: 600,\r\n        maxWidth: 600,\r\n        minWidth: 300\r\n      };\r\n      switch (radioValue){\r\n        case 'xxl':\r\n          sizeConfig = {\r\n            width: 300,\r\n            height: 600,\r\n            maxWidth: 600,\r\n            minWidth: 300\r\n          };\r\n          break;\r\n        case 'm':\r\n          sizeConfig = {\r\n            width: 300,\r\n            height: 600,\r\n            maxWidth: 600,\r\n            minWidth: 300\r\n          };\r\n          break;\r\n      }\r\n\r\n      if(event.target.value === 'horizontal'){\r\n        sizeConfig = {\r\n          width: 620,\r\n          height: getHeightByTheme(widgetNode.getAttribute('w-theme')),\r\n          maxWidth: 900,\r\n          minWidth: 620\r\n        };\r\n      }\r\n\r\n      //console.log(sizeConfig);\r\n\r\n      $widthController.slider({\r\n          setValue: sizeConfig.width,\r\n          max: sizeConfig.maxWidth,\r\n          min: sizeConfig.minWidth\r\n        })\r\n        .slider('refresh');\r\n\r\n        widgetNode.setAttribute('w-width', sizeConfig.width);\r\n        widgetNode.setAttribute('w-height', sizeConfig.height);\r\n    }\r\n    //SetFixedSize(event.target.value, null);\r\n\r\n\r\n    // if(event.target.name === \"border\"){\r\n      //if(event.target.checked){\r\n      //  widgetNode.setAttribute(event.target.id, \"\");\r\n      //}\r\n      //else{\r\n      //  widgetNode.removeAttribute(event.target.id);\r\n      //}\r\n    // }\r\n    // else {}\r\n    if(event.target.name){\r\n      widgetNode.setAttribute(event.target.name, event.target.value);\r\n    }\r\n\r\n    widget.update();\r\n  };\r\n\r\n  var resetWidget = function(configForm) {\r\n    let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\r\n        height = 550,\r\n        theme,\r\n        layout;\r\n\r\n    configForm.find(\"input[type='text']\").each(function(){\r\n      let $self = $(this),\r\n          data = $self.data(),\r\n          value = data.defaultValue;\r\n\r\n      if(data.sliderValue){\r\n        value = data.sliderValue;\r\n        $self.slider({\r\n          setValue: value,\r\n          max: data.sliderMax,\r\n          min: data.sliderMin\r\n        })\r\n        .slider('refresh');\r\n      }else{\r\n        $self.val(value);\r\n      }\r\n\r\n      widgetNode.setAttribute($self.attr('name'), value);\r\n    });\r\n\r\n    configForm.find(\"input[type='radio']\").each(function(){\r\n      var $self = $(this);\r\n      if($self.data('is-checked')){\r\n        let name = $self.attr('name'),\r\n            val = $self.val();\r\n        if(name === 'w-theme'){\r\n          theme = val;\r\n        }else if(name === 'w-layout'){\r\n          layout = val;\r\n          console.log('layout',layout);\r\n        }\r\n        $self.prop('checked', true);\r\n        widgetNode.setAttribute($self.attr('name'), val);\r\n      }\r\n    });\r\n\r\n    if(layout === 'horizontal'){\r\n      height = getHeightByTheme(theme);\r\n    }\r\n    widgetNode.setAttribute('w-height', height);\r\n\r\n    widget.update();\r\n  };\r\n\r\n  var $configForm = $(\".main-widget-config-form\"),\r\n      $widgetModal = $('#js_widget_modal'),\r\n      $widgetModalNoCode = $('#js_widget_modal_no_code');\r\n\r\n  $configForm.on(\"change\", changeState);\r\n\r\n  $configForm.find(\"input[type='text']\").each(function(){\r\n    var $self = $(this);\r\n    $self.data('default-value', $self.val());\r\n  });\r\n\r\n  $configForm.find(\"input[type='radio']\").each(function(){\r\n    var $self = $(this);\r\n    if($self.is(':checked'))\r\n      $self.data('is-checked', 'checked');\r\n  });\r\n\r\n  $('#js_get_widget_code').on('click', function(){\r\n    var codeCont = document.querySelector(\".language-html.widget_dialog__code\");\r\n\r\n    var htmlCode = document.createElement(\"div\");\r\n    for(var key in widget.config){\r\n      if(key !== 'latlong'){\r\n        htmlCode.setAttribute(\"w-\"+key,widget.config[key]);\r\n      }\r\n    }\r\n    var tmp = document.createElement(\"div\");\r\n    tmp.appendChild(htmlCode);\r\n    codeCont.textContent = tmp.innerHTML;\r\n\r\n    $widgetModal.modal();\r\n  });\r\n\r\n\r\n  $('#js_reset_widget').on('click', function(){\r\n    resetWidget($configForm);\r\n  });\r\n\r\n  $('#js_widget_modal__close').on('click', function(){\r\n    $widgetModal.modal('hide');\r\n  });\r\n\r\n  $('#js_widget_modal_no_code__close').on('click', function(){\r\n    $widgetModalNoCode.modal('hide');\r\n  });\r\n\r\n  $(\"#w-size\").on(\"keypress\",function(event){\r\n    var kchar = String.fromCharCode(event.keyCode);\r\n    if(/[\\w\\d]/.test(kchar)){\r\n      if(/\\d/.test(kchar)){\r\n        var newVal = (this.value.substring(0, this.selectionStart)\r\n          + this.value.substring(this.selectionEnd)\r\n          + kchar)*1;\r\n        if(newVal > 100 || newVal < 1){\r\n          event.preventDefault();\r\n        }\r\n      }\r\n      else{\r\n        event.preventDefault();\r\n      }\r\n    }\r\n  });\r\n\r\n  $('#w-country').data('cleared', true);\r\n  widget.onLoadCoordinate = function (response, countryShortName = '') {\r\n    widget.config['country'] = countryShortName;\r\n    let $countrySelect = $('#w-country'),\r\n      options = '';\r\n\r\n    if(response){\r\n      if(response.status === 'OK'){\r\n        if(response.results){\r\n          $countrySelect.prop('disabled', !response.results.length);\r\n          if($countrySelect.data('cleared')){\r\n            $countrySelect\r\n              .data('cleared', false)\r\n              .html('');\r\n            for(let i in response.results){\r\n              let result = response.results[i];\r\n              if(result.address_components){\r\n                let country = result.address_components[result.address_components.length - 1];\r\n                if(country){\r\n                  let isSelected = country.short_name === countryShortName ? 'selected' : '';\r\n                  options += `<option ${isSelected} value=\"${country.short_name}\">${country.long_name}</option>`;\r\n                }\r\n              }\r\n            }\r\n            $countrySelect.append(options);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if(!options){\r\n      $countrySelect.html(`<option>All</option>`);\r\n    }\r\n  }\r\n\r\n})();"]}