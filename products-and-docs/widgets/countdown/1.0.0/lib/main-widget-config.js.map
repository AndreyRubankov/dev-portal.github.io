{"version":3,"sources":["../src/main-widget-config.es6"],"names":["DEFAULT_API_KEY","apiKeyService","getApiWidgetsKey","widget","widgetsCountdown","themeConfig","simple_countdown","sizes","s","width","height","layout","m","l","xl","xxl","custom","fullwidth","initSliderSize","maxWidth","minWidth","$widthController","$","slider","tooltip","handle","$borderRadiusController","$getCodeButton","widgetNode","document","querySelector","$tabButtons","$layoutBox","$configForm","$widgetModal","$widgetModalNoCode","$window","window","$containerWidget","$configBlock","window_min","window_max","desktopWidth","threshold_offset","setLimits","topCss","css","parseInt","headerOffset","max_move","offset","top","min_move","data","windowScroll","innerWidth","j","updateScroll","scrollTop","containerMove","setTimeout","containerMove_clearOffset","on","marginTop","min","max","wst","fullWidth","targetValue","widthSlider","widgetContainerWrapper","widgetContainer","$border_slider","slideUp","setAttribute","slideDown","changeState","event","target","name","value","targetName","sizeConfig","setValue","prop","update","resetWidget","configForm","excludeOption","theme","removeAttr","find","each","$self","userAPIkey","defaultValue","sliderValue","sliderMax","sliderMin","val","attr","id","init","trigger","addEvents","e","preventDefault","is","codeCont","htmlCode","createElement","key","config","tmp","appendChild","textContent","innerHTML","modal","jQuery"],"mappings":"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","file":"main-widget-config.js","sourcesContent":["($ => {\n\n  const DEFAULT_API_KEY = apiKeyService.getApiWidgetsKey();\n\n  let widget = widgetsCountdown[0];\n  var themeConfig = {\n    simple_countdown: {\n        sizes: {\n          s: {\n            width: 180,\n            height: 150,\n            layout: 'horizontal'\n          },\n          m: {\n            width: 300,\n            height: 250,\n            layout: 'vertical'\n          },\n          l: {\n            width: 160,\n            height: 600,\n            layout: 'horizontal'\n          },\n          xl: {\n            width: 728,\n            height: 90,\n            layout: 'horizontal'\n          },\n          xxl: {\n            width: 300,\n            height: 600,\n            layout: 'vertical'\n          },\n          custom: {\n            width: 350,\n            height: 600,\n            layout: 'vertical'\n          },\n          fullwidth: {\n            width: '100%',\n            height: 700,\n            layout: ''\n          }\n        },\n        initSliderSize: {\n          width: 350,\n          height: 600,\n          maxWidth: 500,\n          minWidth: 350\n        }\n      }\n  };\n\n  var $widthController = $('#w-width').slider({\n      tooltip: 'always',\n      handle: 'square'\n    }),\n    $borderRadiusController = $('#w-borderradius').slider({\n      tooltip: 'always',\n      handle: 'square'\n    }),\n    $getCodeButton = $('.js_get_widget_code'),\n    widgetNode = document.querySelector(\"div[w-tmapikey]\"),\n    $tabButtons = $('.js-tab-buttons'),\n    $layoutBox = $('#js-layout-box'),\n    $configForm = $(\".main-widget-config-form\"),\n    $widgetModal = $('#js_widget_modal'),\n    $widgetModalNoCode = $('#js_widget_modal_no_code');\n\n  //variables for fixed widget\n  var $window = $(window),\n      $containerWidget = $(\".widget-container-wrapper\"),\n      $configBlock = $(\".config-block\"),\n      window_min = 0,\n      window_max = 0,\n      desktopWidth = 1200,\n      threshold_offset = 50;\n  /*\n   set the container's maximum and minimum limits as well as movement thresholds\n   */\n  function setLimits(){\n    //max and min container movements\n    var topCss = ($containerWidget.css(\"top\")>0) ? parseInt($containerWidget.css(\"top\")) : 0;\n    var headerOffset = $('.top-bar').height() + /*padding of top-bar*/8 + /*bottom-margin*/10;\n    var max_move = $configBlock.offset().top + $configBlock.height() - $containerWidget.height() - topCss - headerOffset;\n    var min_move = $configBlock.offset().top - headerOffset;\n\n    $containerWidget\n      .data('min', min_move)\n      .data('max',max_move);\n\n    //window thresholds so the movement isn't called when its not needed!\n    window_min = min_move - threshold_offset;\n    window_max = max_move + $containerWidget.height() + threshold_offset;\n  }\n\n  /*\n   widget container scroll handler\n   */\n  function windowScroll(){\n    let innerWidth = window.innerWidth;\n    let j = 0;\n    function updateScroll() {\n      //if the window is within the threshold, begin movements\n      if ($window.scrollTop() >= window_min && $window.scrollTop() < window_max) {\n        if ($containerWidget.height() < $configBlock.height() && innerWidth >= desktopWidth) {\n          //reset the limits (optional)\n          setLimits();\n          //move the container\n          containerMove();\n        }\n      }\n      j++;\n    }\n    if(j === 0) updateScroll();\n\n    setTimeout(() => {\n      if (innerWidth < desktopWidth && $containerWidget.height() > $configBlock.height()) {\n        containerMove_clearOffset();\n        updateScroll();\n      }\n      if($containerWidget.height() < $configBlock.height() || innerWidth >= desktopWidth) {\n        if( innerWidth < desktopWidth ){\n          containerMove_clearOffset();\n        }\n        updateScroll();\n      }\n    }, 200);    \n\n  }\n\n  $window.on(\"scroll resize\", windowScroll);\n\n  /**\n   * Clear top offset of widget container\n   */\n  function containerMove_clearOffset(){\n    $containerWidget.css(\"margin-top\", 0);\n  }\n  /**\n   * Handles moving the container if needed.\n   **/\n  function containerMove(){\n    let marginTop = 0;\n    const wst = $window.scrollTop(),\n      {min, max} = $containerWidget.data();\n\n    //if the window scroll is within the min and max (the container will be 'sticky';\n    if( wst >= min && wst <= max ){\n      //if the window scroll is below the minimum move it down!\n      marginTop = wst - min;\n    }else if( wst > max ){\n      marginTop = max - min;\n    }\n    $containerWidget.css('marginTop', (marginTop > 0 ? marginTop : 0));\n  }\n\n  /**\n   * Toggle 'width slider' and width\n   * @param targetValue(string) -\n   * @param widgetNode(object) - current widget\n   */\n  var fullWidth = function(targetValue , widgetNode){\n    let widthSlider = $('.js_widget_width_slider'),\n        widgetContainerWrapper = $containerWidget,\n        widgetContainer = $(\".widget-container\", widgetContainerWrapper),\n        $border_slider = $('.js_widget_border_slider');\n\n    if(targetValue === 'fullwidth'){\n      widthSlider.slideUp(\"fast\");\n      $borderRadiusController.slider('setValue', 0);\n      widgetNode.setAttribute('w-borderradius', 0);\n      widgetContainerWrapper.css({width: \"100%\"});\n      widgetContainer.css({ width: '100%' });\n      // widgetNode.setAttribute('w-height', 700);\n    }else {\n      $border_slider.slideDown(\"fast\");\n      $borderRadiusController.slider('setValue', 4);\n      widgetNode.setAttribute('w-borderradius', 4);\n      widgetContainerWrapper.css({ width: 'auto' });\n      widgetContainer.css({ width: 'auto' });\n      if(targetValue === 'custom'){widthSlider.slideDown(\"fast\");}\n      //resetWidget($configForm );\n    }\n  };\n\n  var changeState = function(event){\n    if(!event.target.name){return;}\n    const targetValue = event.target.value,\n          targetName = event.target.name;\n\n    if(targetName === \"w-layout\"){\n      let sizeConfig = themeConfig.simple_countdown.initSliderSize;\n\n      if(targetValue === 'horizontal'){\n        sizeConfig = {\n          width: 620,\n          height: 252,\n          maxWidth: 900,\n          minWidth: 620\n        };\n      }\n\n      $widthController.slider({\n          setValue: sizeConfig.width ,\n          max: sizeConfig.maxWidth,\n          min: sizeConfig.minWidth\n        })\n        .slider('refresh');\n\n      widgetNode.setAttribute('w-width', sizeConfig.width);\n      widgetNode.setAttribute('w-height', sizeConfig.height);\n    }\n\n    //Check fixed sizes for 'simple_countdown' theme\n    if(targetName === \"w-proportion\") {\n      let widthSlider = $('.js_widget_width_slider'); //if init it on top -> then see bug on Vertical/Horizontal layout change\n      let sizeConfig = {\n        width: themeConfig.simple_countdown.sizes[targetValue].width,\n        height: themeConfig.simple_countdown.sizes[targetValue].height,\n        maxWidth: 600,\n        minWidth: 350\n      };\n\n      fullWidth(targetValue, widgetNode);\n\n      //set layout\n      widgetNode.setAttribute('w-layout', themeConfig.simple_countdown.sizes[targetValue].layout);\n\n      if (targetValue !== 'custom') {\n        $tabButtons.slideUp(\"fast\");\n        widthSlider.slideUp(\"fast\");\n      }else{\n        $tabButtons.slideDown(\"fast\");\n        widthSlider.slideDown(\"fast\");\n        $('input:radio[name=\"w-layout\"][value=\"vertical\"]',$tabButtons).prop('checked', true);\n\n        sizeConfig = { //default size\n          width: themeConfig.simple_countdown.initSliderSize.width,  //350\n          height: themeConfig.simple_countdown.initSliderSize.height,  //600\n          maxWidth: themeConfig.simple_countdown.initSliderSize.maxWidth,  //500\n          minWidth: themeConfig.simple_countdown.initSliderSize.minWidth // 350\n        };\n        $widthController.slider({\n            setValue: sizeConfig.width,\n            max: sizeConfig.maxWidth,\n            min: sizeConfig.minWidth\n          })\n          .slider('refresh');\n      }\n\n      widgetNode.setAttribute('w-width', sizeConfig.width);\n      widgetNode.setAttribute('w-height', sizeConfig.height);\n    }\n\n    widgetNode.setAttribute(event.target.name, event.target.value); //set attr in widget\n\n\n    widget.update();\n\n    windowScroll();//recalculate widget container position\n  };\n\n  var resetWidget = function(configForm , excludeOption) {\n    let widthSlider = $('.js_widget_width_slider'),\n        widgetContainerWrapper = $('.widget-container-wrapper'),\n        height = 600,\n        theme,\n        layout,\n        $border_slider = $('.js_widget_border_slider');\n        $tabButtons = $('.js-tab-buttons');\n\n    widgetContainerWrapper.removeAttr('style');\n\n    configForm.find(\"input[type='text']\").each(function(){\n      let $self = $(this),\n          data = $self.data(),\n          value = data.userAPIkey || data.defaultValue || '';\n      \n      if(data.sliderValue){\n        value = data.sliderValue;\n        $self.slider({\n          setValue: value,\n          max: data.sliderMax,\n          min: data.sliderMin\n        })\n        .slider('refresh');\n      }else{\n        $self.val(value);\n      }\n\n      widgetNode.setAttribute($self.attr('name'), value);\n    });\n\n    configForm.find(\"input[type='radio']\").each(function(){\n      var $self = $(this);\n      if($self.data('is-checked')){\n        let name = $self.attr('name'),\n            val = $self.val();\n        if(name === 'w-theme'){\n          theme = val;\n        }else if(name === 'w-layout'){\n          layout = val;\n        }else if(name === 'w-proportion'){\n          $layoutBox.slideDown(\"fast\");\n          $border_slider.slideDown(\"fast\");\n          $borderRadiusController.slider('setValue', 4);\n          $tabButtons.slideDown(\"fast\");\n          widthSlider.slideDown(\"fast\");\n          $widthController.slider('refresh');\n        }\n        $self.prop('checked', true);\n        widgetNode.setAttribute($self.attr('name'), val);\n      }\n    });\n\n    if(typeof excludeOption !== 'undefined' && typeof excludeOption.id !== 'undefined'){\n      widgetNode.setAttribute('w-id', excludeOption.id); //set val in widget\n        $('#w-id').val(excludeOption.id);//set val in cofigurator\n    }    \n    $layoutBox.slideDown(\"fast\");\n    $border_slider.slideDown(\"fast\");\n    $borderRadiusController.slider('setValue', 4);\n    $widthController.slider('refresh');\n    $tabButtons.slideDown(\"fast\");\n    widthSlider.slideDown(\"fast\");\n\n    if(layout === 'horizontal'){\n      //height = getHeightByTheme(theme);\n      height = 252;\n    }\n    widgetNode.setAttribute('w-height', height);\n\n    // toggleDisabled(widgetNode);//set disabled btn if input is empty\n\n    widget.update();\n  };\n\n  var init = function (){\n    //sets the limits for the first load\n    setLimits();\n\n    //do one container move on load\n    containerMove();\n\n    // Set min widget size on mobile devices\n    if(parseInt($(window).width(), 10) < 767){\n      $('#w-fixed-300x250').trigger('click');\n    }\n  };\n\n  /**\n   * Events\n   */\n  function addEvents() {\n\n    $configForm.on(\"change\", changeState);\n    // Mobile devices. Force 'change' by 'Go' press\n\n    $configForm.on(\"submit\", function (e) {\n      $configForm.find('input:focus').trigger('blur');\n      e.preventDefault();\n    });\n\n    /*set tooltip value above slider*/\n    $configForm.find(\"input[type='text']\").each(function () {\n      var $self = $(this);\n      $self.data('default-value', $self.val());\n    });\n\n    $configForm.find(\"input[type='radio']\").each(function () {\n      var $self = $(this);\n      if ($self.is(':checked'))\n        $self.data('is-checked', 'checked');\n    });\n\n    $getCodeButton.on('click', function () {\n      var codeCont = document.querySelector(\".language-html.widget_dialog__code\");\n\n      var htmlCode = document.createElement(\"div\");\n      for (var key in widget.config) {\n        htmlCode.setAttribute(\"w-\" + key, widget.config[key]);\n      }\n      var tmp = document.createElement(\"div\");\n      tmp.appendChild(htmlCode);\n      codeCont.textContent = tmp.innerHTML;\n      $widgetModal.modal();\n    });\n\n    $('.js_reset_widget').on('click', function () {\n      resetWidget($configForm);\n    });\n\n    $('#js_widget_modal__close').on('click', function () {\n      $widgetModal.modal('hide');\n    });\n\n    $('#js_widget_modal_no_code__close').on('click', function () {\n      $widgetModalNoCode.modal('hide');\n    });\n\n    $('#js_styling_nav_tab').on('shown.bs.tab', function (e) {\n      $widthController.slider('relayout');\n      $borderRadiusController.slider('relayout');\n      windowScroll();//recalculate widget container position\n    });\n  }\n\n  addEvents();\n\n  init();\n\n})(jQuery);\n"]}