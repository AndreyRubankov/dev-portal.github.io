{"version":3,"sources":["../src/main-widget-config.es6"],"names":[],"mappings":"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","file":"main-widget-config.js","sourcesContent":["(function(){\n\n  const DEFAULT_API_KEY = apiKeyService.checkApiKeyCookie() || apiKeyService.getApiWidgetsKey();\n\n  function getHeightByTheme(theme){\n    return (theme === 'simple' ? 286 : 339);\n  }\n\n  function getBorderByTheme(theme) {\n    switch (theme) {\n      case 'simple':\n        return 0;\n        break;\n      default:\n        return 2;\n    }\n  }\n\n  function getGooleApiKey(code) { return code || \"AIzaSyBQrJ5ECXDaXVlICIdUBOe8impKIGHDzdA\";}\n\n  let widget = widgetsEventDiscovery[0],\n    themeConfig = {\n      sizes: {\n        s: {\n          width: 160,\n          height: 300,\n          layout: 'horizontal'\n        },\n        m: {\n          width: 300,\n          height: 250,\n          layout: 'vertical'\n        },\n        l: {\n          width: 160,\n          height: 300,\n          layout: 'horizontal'\n        },\n        xl: {\n          width: 160,\n          height: 300,\n          layout: 'horizontal'\n        },\n        xxl: {\n          width: 300,\n          height: 600,\n          layout: 'vertical'\n        },\n        custom: {\n          width: 350,\n          height: 600,\n          layout: 'vertical'\n        }\n      },\n      initSliderSize: {\n        width: 350,\n        height: 600,\n        maxWidth: 500,\n        minWidth: 350\n      }      \n    },\n    isPostalCodeChanged = false;\n\n  var $widthController = $('#w-width').slider({\n      tooltip: 'always',\n      handle: 'square'\n    }),\n    $borderRadiusController = $('#w-borderradius').slider({\n      tooltip: 'always',\n      handle: 'square'\n    }),\n    $colorSchemeSelector = $('.widget__color_scheme_control');\n\n  $('#js_styling_nav_tab').on('shown.bs.tab', function (e) {\n    $widthController.slider('relayout');\n    $borderRadiusController.slider('relayout');\n    windowScroll(); //recalculate widget container position\n  });\n\n  //variables for fixed widget\n  var $window = $(window),\n    $containerWidget = $(\".widget-container-wrapper\"),\n    $configBlock = $(\".config-block\"),\n    window_min = 0,\n    window_max = 0,\n    desktopWidth = 1200,\n    threshold_offset = 50;\n  /*\n   set the container's maximum and minimum limits as well as movement thresholds\n   */\n  function setLimits(){\n    //max and min container movements\n    var topCss = ($containerWidget.css(\"top\")>0) ? parseInt($containerWidget.css(\"top\")) : 0;\n    var headerOffset = $('.top-bar').height() + /*padding of top-bar*/8 + /*bottom-margin*/10;\n    var max_move = $configBlock.offset().top + $configBlock.height() - $containerWidget.height() - topCss - headerOffset;\n    var min_move = $configBlock.offset().top - headerOffset;\n\n    $containerWidget\n      .data('min', min_move)\n      .data('max', max_move);\n\n    //window thresholds so the movement isn't called when its not needed!\n    window_min = min_move - threshold_offset;\n    window_max = max_move + $containerWidget.height() + threshold_offset;\n  }\n  //sets the limits for the first load\n  setLimits();\n\n  function windowScroll(){\n    let innerWidth = window.innerWidth;\n    let j = 0;\n    function updateScroll() {\n      //if the window is within the threshold, begin movements\n      if ($window.scrollTop() >= window_min && $window.scrollTop() < window_max) {\n        if ($containerWidget.height() < $configBlock.height() && innerWidth >= desktopWidth) {\n          //reset the limits (optional)\n          setLimits();\n          //move the container\n          containerMove();\n        }\n      }\n      j++;\n    }\n    if(j === 0) updateScroll();\n\n    setTimeout(() => {\n      if (innerWidth < desktopWidth && $containerWidget.height() > $configBlock.height()) {\n        // console.log('*** ', j , innerWidth ,'<', desktopWidth );\n        containerMove_clearOffset();\n        updateScroll();\n      }\n      if($containerWidget.height() < $configBlock.height() || innerWidth >= desktopWidth) {\n        // console.log('ignore ',j);\n        if( innerWidth < desktopWidth ){\n          containerMove_clearOffset();\n        }\n        updateScroll();\n      }\n    }, 200);\n\n  }\n\n  $window.on(\"scroll load resize\", windowScroll);\n\n  /**\n   * Clear top offset of widget container\n   */\n  function containerMove_clearOffset(){\n    $containerWidget.css(\"margin-top\", 0);\n  }\n  /**\n   * Handles moving the container if needed.\n   **/\n  function containerMove(){\n    let marginTop = 0;\n    const wst = $window.scrollTop(),\n      {min, max} = $containerWidget.data();\n\n    //if the window scroll is within the min and max (the container will be 'sticky';\n    if( wst >= min && wst <= max ){\n      //if the window scroll is below the minimum move it down!\n      marginTop = wst - min;\n    }else if( wst > max ){\n      marginTop = max - min;\n    }\n    $containerWidget.css('marginTop', (marginTop > 0 ? marginTop : 0));\n  }\n  //do one container move on load\n  containerMove();\n\n  var replaceApiKey = function (options) {\n    let userKey = options.userKey || sessionStorage.getItem('tk-api-key') || DEFAULT_API_KEY;\n\n    if(userKey !== null) {\n      let {inputApiKey, widgetNode , widget } = options;\n      inputApiKey\n        .attr('value',userKey)\n        .val(userKey);\n      widgetNode.setAttribute(\"w-tmapikey\", userKey);\n      widget.update();\n    }\n  };\n  replaceApiKey({\n      inputApiKey:$('#w-tm-api-key'),\n      widgetNode: document.querySelector(\"div[w-tmapikey]\"),\n      widget\n    });\n\n\n  var changeState = function(event){\n    if(!event.target.name || event.target.name === \"w-googleapikey\") return;\n\n    let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\n        targetValue = event.target.value,\n        targetName = event.target.name,\n        $tabButtons = $('.js-tab-buttons');\n\n    if(targetName === \"w-tm-api-key\") {\n      document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-tmapikey', targetValue);\n\n      if (sessionStorage.getItem('tk-api-key')) {\n        document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\n        document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\n      }\n      if (document.getElementById('w-tm-api-key').value == '') {\n        if (sessionStorage.getItem('tk-api-key')) {\n          document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\n          document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\n        }\n        else {\n          document.getElementById('w-tm-api-key').value = DEFAULT_API_KEY;\n          document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-tmapikey', DEFAULT_API_KEY);\n        }\n      }\n    }\n\n    if(targetName === \"w-postalcode\"){\n      widgetNode.setAttribute('w-country', '');\n      isPostalCodeChanged = true;\n\n      var numDivClass = event.target.parentNode.nextElementSibling.querySelector('div');\n      var numInputClass = document.getElementById('w-radius');\n\n      if (targetValue == '') {\n          numDivClass.classList.remove('js_numeric-input-group');\n          numInputClass.setAttribute('disabled', 'disabled');\n          numInputClass.value = '';\n      }\n      else {\n        if (numDivClass.classList.contains('js_numeric-input-group')) {\n        }\n        else {\n            numDivClass.classList.add('js_numeric-input-group');\n            numInputClass.removeAttribute('disabled');\n            numInputClass.value = '25';\n        }\n      }\n    }\n\n    if(targetName === \"w-theme\"){\n      if(targetValue === 'simple'){\n        $colorSchemeSelector.hide();\n      }else{\n        $colorSchemeSelector.show();\n      }\n\n      if(widgetNode.getAttribute('w-layout') === 'horizontal'){\n        widgetNode.setAttribute('w-height', getHeightByTheme(targetValue));\n      }\n      widgetNode.setAttribute('w-border', getBorderByTheme(targetValue));\n    }\n\n    if(targetName === \"w-layout\"){\n      let sizeConfig = themeConfig.initSliderSize;\n      if(targetValue === 'horizontal'){\n        sizeConfig = {\n          width: 620,\n          height: getHeightByTheme(widgetNode.getAttribute('w-theme')),\n          maxWidth: 900,\n          minWidth: 620\n        };\n      }\n\n      $widthController.slider({\n          setValue: sizeConfig.width ,\n          max: sizeConfig.maxWidth,\n          min: sizeConfig.minWidth\n        })\n        .slider('refresh');\n\n      widgetNode.setAttribute('w-width', sizeConfig.width);\n      widgetNode.setAttribute('w-height', sizeConfig.height);\n    }\n\n    //Check fixed sizes for 'simple' theme\n    if(targetName === \"w-proportion\") {\n      let widthSlider = $('.js_widget_width_slider');\n      let sizeConfig = {\n        width: themeConfig.sizes[targetValue].width,\n        height: themeConfig.sizes[targetValue].height,\n        maxWidth: 600,\n        minWidth: 350\n      };\n\n      //set layout\n      widgetNode.setAttribute('w-layout', themeConfig.sizes[targetValue].layout);\n\n      if (targetValue !== 'custom') {\n        $tabButtons.slideUp(\"fast\");\n        widthSlider.slideUp(\"fast\");\n      }else{\n        $tabButtons.slideDown(\"fast\");\n        widthSlider.slideDown(\"fast\");\n        $('input:radio[name=\"w-layout\"][value=\"vertical\"]',$tabButtons).prop('checked', true);\n\n        sizeConfig = { //default size\n          width: themeConfig.initSliderSize.width,  //350\n          height: themeConfig.initSliderSize.height,  //600\n          maxWidth: themeConfig.initSliderSize.maxWidth,  //500\n          minWidth: themeConfig.initSliderSize.minWidth // 350\n        };\n        $widthController.slider({\n            setValue: sizeConfig.width,\n            max: sizeConfig.maxWidth,\n            min: sizeConfig.minWidth\n          })\n          .slider('refresh');\n\n      }\n\n      widgetNode.setAttribute('w-width', sizeConfig.width);\n      widgetNode.setAttribute('w-height', sizeConfig.height);\n    }\n\n    widgetNode.setAttribute(event.target.name, event.target.value);\n    widget.update();\n\n    windowScroll(); //recalculate widget container position\n  };\n\n  var resetWidget = function(configForm) {\n    let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\n      height = 600,\n      theme,\n      layout;\n    const widthSlider = $('.js_widget_width_slider'),\n      $tabButtons = $('.js-tab-buttons');\n\n    configForm.find(\"input[type='text'], input[type='number']\").each(function(){\n      let $self = $(this),\n        data = $self.data(),\n        value = data.defaultValue;\n\n      if(data.sliderValue){\n        value = data.sliderValue;\n        $self.slider({\n          setValue: value,\n          max: data.sliderMax,\n          min: data.sliderMin\n        })\n        .slider('refresh');\n      }else{\n        $self.val(value);\n      }\n\n      document.getElementById(\"w-country\").disabled = true;\n\n      [\"#w-countryCode\",\"#w-source\"].map((item)=> {\n        $(item).prop(\"selectedIndex\", -1);\n      });\n      widgetNode.setAttribute($self.attr('name'), value);\n      if ( $self.attr('name') === 'w-tm-api-key' ) widgetNode.removeAttribute($self.attr('name'));\n\n    });\n\n    configForm.find(\"input[type='radio']\").each(function(){\n      var $self = $(this);\n      if($self.data('is-checked')){\n        let name = $self.attr('name'),\n            val = $self.val();\n        if(name === 'w-theme'){\n          theme = val;\n        }else if(name === 'w-layout'){\n          layout = val;\n        }else if(name === 'w-proportion'){\n          $tabButtons.slideDown(\"fast\");\n          widthSlider.slideDown(\"fast\");\n        }\n        $self.prop('checked', true);\n        widgetNode.setAttribute($self.attr('name'), val);\n      }\n    });\n\n    if(layout === 'horizontal'){\n      height = getHeightByTheme(theme);\n    }\n    widgetNode.setAttribute('w-height', height);\n    widgetNode.setAttribute('w-border', 0);\n    widgetNode.removeAttribute('w-countryCode');\n    widgetNode.removeAttribute('w-source');\n\n    $('.country-select .js_custom_select').removeClass('custom_select-opened');//reset custom select\n    widget.onLoadCoordinate();\n    widget.update();\n  };\n\n  var $configForm = $(\".main-widget-config-form\"),\n      $widgetModal = $('#js_widget_modal'),\n      $widgetModalNoCode = $('#js_widget_modal_no_code');\n\n  $configForm.on(\"change\", changeState);\n  // Mobile devices. Force 'change' by 'Go' press\n  $configForm.on(\"submit\", function (e) {\n    $configForm.find('input:focus').trigger('blur');\n    e.preventDefault();\n  });\n\n  $configForm.find(\"input[type='text'], input[type='number']\").each(function(){\n    var $self = $(this);\n    $self.data('default-value', $self.val());\n  });\n\n  $configForm.find(\"input[type='radio']\").each(function(){\n    var $self = $(this);\n    if($self.is(':checked'))\n      $self.data('is-checked', 'checked');\n  });\n\n  $('.js_get_widget_code').on('click', function(){\n    var codeCont = document.querySelector(\".language-html.widget_dialog__code\");\n    var htmlCode = document.createElement(\"div\");\n    for(var key in widget.config){\n      if(key !== 'latlong'){\n        htmlCode.setAttribute(\"w-\"+key,widget.config[key]);\n      }\n    }\n    // Use only Key from config form\n    htmlCode.setAttribute('w-googleapikey', getGooleApiKey());\n    var tmp = document.createElement(\"div\");\n    tmp.appendChild(htmlCode);\n    codeCont.textContent = tmp.innerHTML;\n    $widgetModal.modal();\n  });\n\n\n  $('.js_reset_widget').on('click', function(){\n    resetWidget($configForm);\n  });\n\n  $('#js_widget_modal__close').on('click', function(){\n    $widgetModal.modal('hide');\n  });\n\n  $('#js_widget_modal_no_code__close').on('click', function(){\n    $widgetModalNoCode.modal('hide');\n  });\n\n\n  widget.onLoadCoordinate = function (results, countryShortName = '') {\n    widget.config['country'] = countryShortName;\n    if(isPostalCodeChanged){\n      isPostalCodeChanged = false;\n\n      let $countrySelect = $('#w-country'),\n        $ul = $(\".country-select .js_widget_custom__list\"),\n        options = \"<option selected value=''>All</option>\";\n\n      $countrySelect.html('');\n      $ul.html(''); //clear custom select list\n      $countrySelect.prop('disabled', !results);\n      if(results){\n        let status;\n        if (results.length <=1) status = true;\n        else status = false;\n        $countrySelect.prop('disabled', status);\n        // $countrySelect.prop('disabled', !results.length);\n        options = '';\n        for(let i in results){\n          let result = results[i];\n          if(result.address_components){\n            let country = result.address_components[result.address_components.length - 1];\n            if(country){\n              let isSelected = country.short_name === countryShortName ? 'selected' : '';\n              options += `<option ${isSelected} value=\"${country.short_name}\">${country.long_name}</option>`;\n            }\n          }\n        }\n      }\n\n      $countrySelect.append(options);\n      addCustomList($ul, '#w-country', countryShortName);\n    }\n  };\n\n  function addCustomList(listWrapperElement, listWrapperId, activeVal) {\n    var $listOption = $(listWrapperId).find('option'),//update list\n        $placeholder = $(\".country-select\").find(\".custom_select__placeholder\"),\n        $ul = listWrapperElement;\n  \n    $placeholder.val( $listOption.html() );\n\n    $listOption.each(function () {\n      var data = {\n        value: $(this).val()\n      };\n      $ul.append(`<li class=\"custom_select__item ${activeVal === data.value ? 'custom_select__item-active' : ''}\" data-value=\"${data.value}\">${$(this).text()}</li>`)\n    });\n  }\n\n  // clearDropDownInput(['#w-countryCode','#w-source']);\n  function clearDropDownInput(elemIds) {\n    elemIds.map((item)=> {\n      $(item).val('');\n    } );\n  }\n\n\n  // Set min widget size on mobile devices\n  if(parseInt($(window).width(), 10) < 767){\n    $('#w-fixed-300x250').trigger('click');\n  }\n})();\n"]}