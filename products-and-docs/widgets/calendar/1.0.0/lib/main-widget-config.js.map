{"version":3,"sources":["../src/main-widget-config.es6"],"names":["DEFAULT_API_KEY","apiKeyService","checkApiKeyCookie","getApiWidgetsKey","getHeightByTheme","theme","getBorderByTheme","getGooleApiKey","code","getTmApiKey","document","getElementById","value","replaceApiKey","options","userKey","sessionStorage","getItem","inputApiKey","widgetNode","widget","attr","data","val","setAttribute","update","widgetsCalendar","weekScheduler","weekSchedulers","monthScheduler","monthSchedulers","yearScheduler","yearSchedulers","themeConfig","sizes","standart","width","height","layout","border","initSliderSize","maxWidth","minWidth","isPostalCodeChanged","$widthController","$","slider","tooltip","handle","$borderRadiusController","$colorSchemeSelector","on","e","querySelector","changeState","event","target","name","targetValue","targetName","$tabButtons","length","hide","show","getAttribute","sizeConfig","setValue","max","min","widthSlider","slideUp","slideDown","prop","spinner","classList","add","setTimeout","resetWidget","configForm","radiusParam","find","each","$self","defaultValue","sliderValue","sliderMax","sliderMin","removeAttribute","removeClass","children","remove","end","append","onLoadCoordinate","$configForm","$widgetModal","$widgetModalNoCode","$widgetModalMap","trigger","preventDefault","is","codeCont","htmlCode","createElement","config","latlong","replace","key","tmp","appendChild","textContent","innerHTML","modal","trim","parseInt","required","regNumberOrEmpty","errorCssClass","test","addClass","stopPropagation","countrycode","postalcode","city","results","countryShortName","$countrySelect","$ul","html","status","i","result","address_components","country","isSelected","short_name","long_name","addCustomList","listWrapperElement","listWrapperId","activeVal","$listOption","$placeholder","text"],"mappings":"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","file":"main-widget-config.js","sourcesContent":["(function(){\n\n    const DEFAULT_API_KEY = apiKeyService.checkApiKeyCookie() || apiKeyService.getApiWidgetsKey();\n\n    function getHeightByTheme(theme){\n        return (theme === 'simple' ? 286 : 339);\n    }\n\n    function getBorderByTheme(theme) {\n        switch (theme) {\n            case 'simple':\n                return 0;\n                break;\n            default:\n                return 2;\n        }\n    }\n\n    function getGooleApiKey(code) { return code || \"AIzaSyBQrJ5ECXDaXVlICIdUBOe8impKIGHDzdA\";}\n\n    function getTmApiKey() {\n        return document.getElementById('w-tm-api-key').value;\n    }\n\n    var replaceApiKey = function (options) {\n        let userKey = options.userKey || sessionStorage.getItem('tk-api-key') || DEFAULT_API_KEY;\n\n        if(userKey !== null) {\n            let {inputApiKey, widgetNode , widget } = options;\n            inputApiKey\n              .attr('value', userKey)\n              .data('userAPIkey', userKey)\n              .val(userKey);\n            widgetNode.setAttribute(\"w-tmapikey\", userKey);\n            widget.update();\n        }\n    };\n\n    let widget = widgetsCalendar[0],\n        weekScheduler = weekSchedulers[0],\n        monthScheduler = monthSchedulers[0],\n        yearScheduler = yearSchedulers[0],\n        themeConfig = {\n            sizes: {\n                standart: {\n                    width: 298,\n                    height: 400,\n                    layout: 'vertical',\n                    border: 1\n                }\n            },\n            initSliderSize: {\n                width: 298,\n                height: 330,\n                maxWidth: 300,\n                minWidth: 300\n            }\n        },\n        isPostalCodeChanged = false;\n\n    var $widthController = $('#w-width').slider({\n            tooltip: 'always',\n            handle: 'square'\n        }),\n        $borderRadiusController = $('#w-borderradius').slider({\n            tooltip: 'always',\n            handle: 'square'\n        }),\n        $colorSchemeSelector = $('.widget__color_scheme_control');\n\n    $('#js_styling_nav_tab').on('shown.bs.tab', function (e) {\n        // $widthController.slider('relayout');\n        $borderRadiusController.slider('relayout');\n    });\n\n    //replace Api Key on init\n    replaceApiKey({\n        inputApiKey:$('#w-tm-api-key'),\n        widgetNode: document.querySelector(\"div[w-tmapikey]\"),\n        widget\n    });\n\n    var changeState = function(event){\n        if(!event.target.name || event.target.name === \"w-googleapikey\") return;\n\n        let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\n            targetValue = event.target.value,\n            targetName = event.target.name,\n            $tabButtons = $('.js-tab-buttons');\n\n        if(targetName === \"w-tm-api-key\") {\n            document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', targetValue);\n\n            if (sessionStorage.getItem('tk-api-key')) {\n                document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\n            }\n            if (document.getElementById('w-tm-api-key').value == '') {\n                if (sessionStorage.getItem('tk-api-key')) {\n                    document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\n                    document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\n                }\n                else {\n                    document.getElementById('w-tm-api-key').value = DEFAULT_API_KEY;\n                    document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', DEFAULT_API_KEY);\n                }\n            }\n        }\n\n        if(targetName === \"w-keyword\"){\n            isPostalCodeChanged = true;\n            if (document.getElementById('w-keyword').value == '') {\n                document.getElementById('w-postalcode').value = '90015';\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-country', 'US');\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-latlong', '34.0390107,-118.2672801');\n            }\n        }\n\n        if(targetName === \"w-postalcode\"){\n            widgetNode.setAttribute('w-country', '');\n            isPostalCodeChanged = true;\n            if (document.getElementById('w-keyword').value == '' && document.getElementById('w-postalcode').value == '' ) {\n                document.getElementById('w-postalcode').value = '90015';\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-country', 'US');\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-latlong', '34.0390107,-118.2672801');\n            }\n            if (document.getElementById('w-postalcode').value.length <= 3) document.getElementById('w-postalcode').value = '90015';;\n        }\n\n        if(targetName === \"w-radius\"){\n            if (document.getElementById('w-radius').value == '') document.getElementById('w-radius').value = '5';\n\n        }\n\n        if(targetName === \"w-theme\"){\n            if(targetValue === 'simple'){\n                $colorSchemeSelector.hide();\n            }else{\n                $colorSchemeSelector.show();\n            }\n\n            if(widgetNode.getAttribute('w-layout') === 'horizontal'){\n                widgetNode.setAttribute('w-height', getHeightByTheme(targetValue));\n            }\n            widgetNode.setAttribute('w-border', getBorderByTheme(targetValue));\n        }\n\n        if(targetName === \"w-layout\"){\n            let sizeConfig = themeConfig.initSliderSize;\n            if(targetValue === 'horizontal'){\n                sizeConfig = {\n                    width: 620,\n                    height: getHeightByTheme(widgetNode.getAttribute('w-theme')),\n                    maxWidth: 900,\n                    minWidth: 620\n                };\n            }\n\n            $widthController.slider({\n                setValue: sizeConfig.width ,\n                max: sizeConfig.maxWidth,\n                min: sizeConfig.minWidth\n            })\n                .slider('refresh');\n\n            widgetNode.setAttribute('w-width', sizeConfig.width);\n            widgetNode.setAttribute('w-height', sizeConfig.height);\n        }\n\n        //Check fixed sizes for 'simple' theme\n        if(targetName === \"w-proportion\") {\n            let widthSlider = $('.js_widget_width_slider');\n            let sizeConfig = {\n                width: themeConfig.sizes[targetValue].width,\n                height: themeConfig.sizes[targetValue].height,\n                maxWidth: 600,\n                minWidth: 350\n            };\n\n            //set layout\n            widgetNode.setAttribute('w-layout', themeConfig.sizes[targetValue].layout);\n\n            if (targetValue !== 'custom') {\n                $tabButtons.slideUp(\"fast\");\n                widthSlider.slideUp(\"fast\");\n            }else{\n                $tabButtons.slideDown(\"fast\");\n                widthSlider.slideDown(\"fast\");\n                $('input:radio[name=\"w-layout\"][value=\"vertical\"]',$tabButtons).prop('checked', true);\n\n                sizeConfig = { //default size\n                    width: themeConfig.initSliderSize.width,  //350\n                    height: themeConfig.initSliderSize.height,  //600\n                    maxWidth: themeConfig.initSliderSize.maxWidth,  //500\n                    minWidth: themeConfig.initSliderSize.minWidth // 350\n                };\n                $widthController.slider({\n                    setValue: sizeConfig.width,\n                    max: sizeConfig.maxWidth,\n                    min: sizeConfig.minWidth\n                })\n                    .slider('refresh');\n\n            }\n\n            widgetNode.setAttribute('w-width', sizeConfig.width);\n            widgetNode.setAttribute('w-height', sizeConfig.height);\n        }\n\n        widgetNode.setAttribute(event.target.name, event.target.value);\n        widget.update();\n        let spinner = document.querySelector('.events-root-container .spinner-container');\n        spinner.classList.add('hide');\n        setTimeout(function() {\n            weekScheduler.update();\n            monthScheduler.update();\n            yearScheduler.update();\n        }, 500);\n\n\n        /*\n        widget.update().then(function() {\n            console.log('Update Done');\n            weekScheduler.update();\n            // monthScheduler.update();\n            // yearScheduler.update();\n        }, function(error) {\n            console.log(\"Error!\", error);\n        });\n        */\n    };\n\n    var resetWidget = function(configForm) {\n        let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\n            radiusParam = document.querySelector(\"div[w-radius]\"),\n            height = 600,\n            theme,\n            layout;\n        const widthSlider = $('.js_widget_width_slider'),\n            $tabButtons = $('.js-tab-buttons');\n\n        configForm.find(\"input[type='text'], input[type='number']\").each(function(){\n            let $self = $(this),\n                data = $self.data(),\n                value = data.defaultValue;\n\n            if(data.sliderValue){\n                value = data.sliderValue;\n                $self.slider({\n                    setValue: value,\n                    max: data.sliderMax,\n                    min: data.sliderMin\n                })\n                    .slider('refresh');\n            }else{\n                $self.val(value);\n            }\n\n            widgetNode.setAttribute($self.attr('name'), value);\n            if ( $self.attr('name') === 'w-tm-api-key' ) widgetNode.removeAttribute($self.attr('name'));\n        });\n\n        configForm.find(\"input[type='radio']\").each(function(){\n            var $self = $(this);\n            if($self.data('is-checked')){\n                let name = $self.attr('name'),\n                    val = $self.val();\n                if(name === 'w-theme'){\n                    theme = val;\n                }else if(name === 'w-layout'){\n                    layout = val;\n                }else if(name === 'w-proportion'){\n                    $tabButtons.slideDown(\"fast\");\n                    widthSlider.slideDown(\"fast\");\n                }\n                $self.prop('checked', true);\n                widgetNode.setAttribute($self.attr('name'), val);\n            }\n        });\n\n\n\n        if(layout === 'horizontal'){\n            height = getHeightByTheme(theme);\n        }\n        // widgetNode.setAttribute('w-height', height);\n        widgetNode.setAttribute('w-height', '400');\n        // widgetNode.setAttribute('w-border', 0);\n\n        $('.country-select .js_custom_select').removeClass('custom_select-opened');//reset custom select\n        $('#w-country').children().remove().end().append('<option selected value=\"US\">United States</option>');\n        $('#w-country').attr('disabled', 'disabled');\n        $('.custom_select__list li').removeClass('custom_select__item-active');//reset custom select\n        radiusParam.setAttribute('w-radius', '25');\n        $('#w-tm-api-key').val( DEFAULT_API_KEY) ;//set apikey\n        widget.onLoadCoordinate();\n        widget.update();\n    };\n\n    var $configForm = $(\".main-widget-config-form\"),\n        $widgetModal = $('#js_widget_modal'),\n        $widgetModalNoCode = $('#js_widget_modal_no_code'),\n        $widgetModalMap = $('#js_widget_modal_map');\n\n    $configForm.on(\"change\", changeState);\n    // Mobile devices. Force 'change' by 'Go' press\n    $configForm.on(\"submit\", function (e) {\n        $configForm.find('input:focus').trigger('blur');\n        e.preventDefault();\n    });\n\n    $configForm.find(\"input[type='text'], input[type='number']\").each(function(){\n        var $self = $(this);\n        $self.data('default-value', $self.val());\n    });\n\n    $configForm.find(\"input[type='radio']\").each(function(){\n        var $self = $(this);\n        if($self.is(':checked'))\n            $self.data('is-checked', 'checked');\n    });\n\n    if (sessionStorage.getItem('tk-api-key')) {\n        document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\n    }\n    if (document.getElementById('w-tm-api-key').value == '') {\n        if (sessionStorage.getItem('tk-api-key')) {\n            document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\n            document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\n        }\n        else {\n            document.getElementById('w-tm-api-key').value = DEFAULT_API_KEY;\n            document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', DEFAULT_API_KEY);\n        }\n    }    \n\n    $('.js_get_widget_code').on('click', function(){\n        var codeCont = document.querySelector(\".language-html.widget_dialog__code\");\n        var htmlCode = document.createElement(\"div\");\n        widget.config.latlong = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\n        for(var key in widget.config){\n            // if(key !== 'latlong'){\n                htmlCode.setAttribute(\"w-\"+key,widget.config[key]);\n            // }\n        }\n        // Use only Key from config form\n        htmlCode.setAttribute('w-googleapikey', getGooleApiKey());\n        htmlCode.setAttribute('w-tmapikey', getTmApiKey());\n        var tmp = document.createElement(\"div\");\n        tmp.appendChild(htmlCode);\n        codeCont.textContent = tmp.innerHTML;\n        $widgetModal.modal();\n    });\n\n\n    $('.js_reset_widget').on('click', function(){\n        resetWidget($configForm);\n    });\n\n    $('#js_widget_modal__close').on('click', function(){\n        $widgetModal.modal('hide');\n    });\n\n    $('#js_widget_modal_no_code__close').on('click', function(){\n        $widgetModalNoCode.modal('hide');\n    });\n\n    $('.js_widget__number').on('change', function (e) {\n        let $self = $(this),\n            val = $self.val().trim(),\n            max = parseInt($self.attr('max')),\n            min = parseInt($self.attr('min')),\n            required = !!$self.attr('required'),\n            regNumberOrEmpty = /^(\\s*|\\d+)$/,\n            errorCssClass = 'error';\n\n        // if(val === '') $self.val('');\n\n        if((max && val > max) || (min && val < min) || (required && val === '') || (!regNumberOrEmpty.test(val))){\n            $self.addClass(errorCssClass);\n            e.preventDefault();\n            e.stopPropagation();\n        }else{\n            $self.removeClass(errorCssClass);\n        }\n    });\n\n    $('#js_widget_modal_map__open').on('click', function(e){\n        e.preventDefault();\n        $widgetModalMap.modal();\n    });\n\n    $('#js_widget_modal_map__close').on('click', function(){\n        $widgetModalMap.modal('hide');\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-latlong', document.getElementById('w-latlong').value.replace(/\\s+/g, ''));\n        widget.update();\n        let spinner = document.querySelector('.events-root-container .spinner-container');\n        spinner.classList.add('hide');\n        setTimeout(function() {\n            weekScheduler.update();\n            monthScheduler.update();\n            yearScheduler.update();\n        }, 500);\n    });\n\n    $('.widget__location span').on('click', function(){\n        $('.widget__location').addClass('hidn');\n        $('.widget__latlong').removeClass('hidn');\n        document.getElementById('h-countryCode').value = document.getElementById('w-countryCode').value;\n        document.getElementById('h-postalcodeapi').value = document.getElementById('w-postalcodeapi').value;\n        document.getElementById('h-city').value = document.getElementById('w-city').value;\n        document.getElementById('w-latlong').value = document.getElementById('h-latlong').value;\n        widget.config.latlong = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-latlong', widget.config.latlong);\n        document.querySelector('[w-type=\"calendar\"]').removeAttribute('w-countrycode');\n        document.querySelector('[w-type=\"calendar\"]').removeAttribute('w-postalcodeapi');\n        document.querySelector('[w-type=\"calendar\"]').removeAttribute('w-city');\n        widget.config.countrycode = '';\n        widget.config.postalcode = '';\n        widget.config.city = '';\n        widget.update();\n        let spinner = document.querySelector('.events-root-container .spinner-container');\n        spinner.classList.add('hide');\n        setTimeout(function() {\n            weekScheduler.update();\n            monthScheduler.update();\n            yearScheduler.update();\n        }, 500);\n    });\n\n    $('.widget__latlong span').on('click', function(){\n        $('.widget__latlong').addClass('hidn');\n        $('.widget__location').removeClass('hidn');\n        document.getElementById('h-latlong').value = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\n        document.getElementById('w-latlong').value = '';\n        document.querySelector('[w-type=\"calendar\"]').removeAttribute('w-latlong');\n        document.getElementById('w-countryCode').value = document.getElementById('h-countryCode').value;\n        document.getElementById('w-postalcodeapi').value = document.getElementById('h-postalcodeapi').value;\n        document.getElementById('w-city').value = document.getElementById('h-city').value;\n        widget.config.countrycode = document.getElementById('w-countryCode').value;\n        widget.config.postalcode = document.getElementById('w-postalcodeapi').value;\n        widget.config.city = document.getElementById('w-city').value;\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-countrycode', widget.config.countrycode);\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-postalcodeapi', widget.config.postalcode);\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-city', widget.config.city);\n        widget.config.latlong = '';\n        widget.update();\n        let spinner = document.querySelector('.events-root-container .spinner-container');\n        spinner.classList.add('hide');\n        setTimeout(function() {\n            weekScheduler.update();\n            monthScheduler.update();\n            yearScheduler.update();\n        }, 500);\n    });\n\n    widget.onLoadCoordinate = function (results, countryShortName = '') {\n        widget.config['country'] = countryShortName;\n        if(isPostalCodeChanged){\n            isPostalCodeChanged = false;\n\n            let $countrySelect = $('#w-country'),\n                $ul = $(\"#w-country .js_widget_custom__list\"),\n                options = \"<option selected value=''>All</option>\";\n\n            $countrySelect.html('');\n            $ul.html(''); //clear custom select list\n            $countrySelect.prop('disabled', !results);\n\n            if(results){\n                let status;\n                if (results.length <=1) status = true;\n                else status = false;\n                $countrySelect.prop('disabled', status);\n                // $countrySelect.prop('disabled', !results.length);\n                options = '';\n                for(let i in results){\n                    let result = results[i];\n                    if(result.address_components){\n                        let country = result.address_components[result.address_components.length - 1];\n                        if(country){\n                            let isSelected = country.short_name === countryShortName ? 'selected' : '';\n                            options += `<option ${isSelected} value=\"${country.short_name}\">${country.long_name}</option>`;\n                        }\n                    }\n                }\n            }\n\n            $countrySelect.append(options);\n            addCustomList($ul, '#w-country', countryShortName);\n        }\n    };\n\n    function addCustomList(listWrapperElement, listWrapperId, activeVal) {\n        var $listOption = $(listWrapperId).find('option'),//update list\n            $placeholder = $(\".country-select\").find(\".custom_select__placeholder\"),\n            // $ul = listWrapperElement;\n            $ul = $('.country-select .custom_select__list');\n\n        $placeholder.val( $listOption.html() );\n\n        $($ul).html('');\n\n        $listOption.each(function () {\n            var data = {\n                value: $(this).val()\n            };\n            $ul.append(`<li class=\"custom_select__item ${activeVal === data.value ? 'custom_select__item-active' : ''}\" data-value=\"${data.value}\">${$(this).text()}</li>`)\n        });\n    }\n\n})();\n"]}