{"version":3,"sources":["../src/main-widget.es6"],"names":[],"mappings":"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","file":"main-widget.js","sourcesContent":["class CalendarWidget {\r\n\r\n    set config(attrs) { this.widgetConfig = this.loadConfig(attrs); }\r\n    get config() { return this.widgetConfig; }\r\n\r\n    set event(responce){ this.eventResponce = this.parseEvent(responce);}\r\n    get event(){ return this.eventResponce;}\r\n\r\n    get borderSize(){ return this.config.border || 0;}\r\n\r\n    get eventUrl(){ return \"http://www.ticketmaster.com/event/\"; }\r\n\r\n    set eventId(id){ this.config.id = id;}\r\n    get eventId(){ return this.config.id;}\r\n\r\n    get apiUrl(){ return this.config.id ? `https://app.ticketmaster.com/discovery/v2/events/${this.config.id}.json` : `https://app.ticketmaster.com/discovery/v2/events/${this.eventId}.json`; }\r\n\r\n    //get themeUrl() { return \"http://localhost:4000/products-and-docs/widgets/countdown/1.0.0/theme/\"; }\r\n    get themeUrl() { return \"http://ticketmaster-api-staging.github.io/products-and-docs/widgets/countdown/1.0.0/theme/\"; }\r\n\r\n    get portalUrl(){ return \"http://ticketmaster-api-staging.github.io/\"; }\r\n\r\n    get logoUrl() { return \"http://www.ticketmaster.com/\"; }\r\n\r\n    get legalNoticeUrl() { return \"http://developer.ticketmaster.com/support/terms-of-use/\"; }\r\n\r\n    get questionUrl() { return \"http://developer.ticketmaster.com/support/faq/\"; }\r\n\r\n\r\n    getDateFromPeriod(period){\r\n\r\n        var date = new Date(),\r\n            period = period.toLowerCase(),\r\n            firstDay, lastDay;\r\n\r\n        if(period == \"year\" ){\r\n            firstDay = new Date(date.getFullYear(),0,1);\r\n            lastDay = new Date(date.getFullYear(),12,0);\r\n        }\r\n        else if(period == \"month\"){\r\n            firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\r\n            lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0);\r\n        }\r\n        else if(period == \"week\"){\r\n            var first = date.getDate() - date.getDay();\r\n            var last = first + 6;\r\n            firstDay = new Date(date.setDate(first));\r\n            lastDay = new Date(date.setDate(last));\r\n        } else {\r\n            firstDay = new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n            lastDay = new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n        }\r\n\r\n        firstDay.setHours(0);   lastDay.setHours(23);\r\n        firstDay.setMinutes(0); lastDay.setMinutes(59);\r\n        firstDay.setSeconds(0); lastDay.setSeconds(59);\r\n\r\n        return [this.toShortISOString(firstDay), this.toShortISOString(lastDay)];\r\n    }\r\n\r\n    constructor(root) {\r\n        console.log(root);\r\n        this.widgetRoot = root;\r\n        this.eventsRootContainer = document.createElement(\"div\");\r\n        this.eventsRootContainer.classList.add(\"events-root-container\");\r\n        this.widgetRoot.appendChild(this.eventsRootContainer);\r\n    }\r\n\r\n    createDOMItem(itemConfig) {\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nlet widgetsCalendar = [];\r\n(function () {\r\n    let widgetContainers = document.querySelectorAll(\"div[w-type='calendar']\");\r\n    for (let i = 0; i < widgetContainers.length; ++i) {\r\n        widgetsCalendar.push(new CalendarWidget(widgetContainers[i]));\r\n    }\r\n\r\n})();"]}